(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){"use strict";a.r(t),a.d(t,"fetchAuth",function(){return o}),a.d(t,"fetchUser",function(){return i});var n,r=a(58),c=a(53),o=Object(c.createAction)("fetch auth",function(e){return{auth:e.auth,accessToken:e.accessToken}}),i=Object(c.createAction)("fetch user",function(e){return{user:e}});t.default=Object(c.createReducer)((n={},Object(r.a)(n,o,function(e,t){var a=t.auth,n=t.accessToken;return Object.assign({},e,{auth:a,accessToken:n})}),Object(r.a)(n,i,function(e,t){var a=t.user;return Object.assign({},e,{user:a})}),n),{auth:!1,accessToken:null,user:{}})},170:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a(23),r=a(24),c=a(26),o=a(25),i=a(27),l=a(15),s=(a(133),a(54)),u=a(0),d=a.n(u),m=a(16);function p(){var e=Object(l.a)(["\n  min-height: 100vh;\n"]);return p=function(){return e},e}var f=s.a.Content,g=Object(m.a)(f)(p()),h=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return d.a.createElement(g,null,this.props.children)}}]),t}(u.Component)},171:function(e,t,a){"use strict";a.d(t,"a",function(){return x});a(114);var n=a(17),r=(a(115),a(13)),c=a(23),o=a(24),i=a(26),l=a(25),s=a(27),u=(a(62),a(14)),d=a(15),m=(a(133),a(54)),p=a(0),f=a.n(p),g=a(16),h=a(788);function E(){var e=Object(d.a)(["\n  overflow: hidden;\n  padding-left: 40px;\n  float: left;\n  height: 64px;\n  line-height: 64px;\n  text-decoration: none;\n  white-space: nowrap;\n  img {\n    height: 60px;\n    margin-right: 16px;\n  }\n"]);return E=function(){return e},e}function b(){var e=Object(d.a)(["\n  margin: 0 2px;\n"]);return b=function(){return e},e}function y(){var e=Object(d.a)(["\n  background: transparent !important;\n  width: 100%;\n"]);return y=function(){return e},e}var v=m.a.Header,O=Object(g.a)(v)(y()),j=Object(g.a)(u.a)(b()),k=g.a.a(E()),x=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return f.a.createElement(O,null,f.a.createElement(n.a,null,f.a.createElement(r.a,{xs:24,md:12},f.a.createElement(k,{href:"/"},f.a.createElement("img",{alt:"logo",src:"/images/PangeaMTsmall.png"}))),f.a.createElement(r.a,{xs:24,md:12,style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},f.a.createElement(h.a,{push:!0,to:"/signin"},f.a.createElement(j,{type:"primary",className:"header-enter-button"},"SignIn")),f.a.createElement(j,{type:"primary",className:"header-enter-button"},"About us"),f.a.createElement(j,{type:"primary",className:"header-enter-button"},"Help"))))}}]),t}(p.Component)},173:function(e,t,a){e.exports=a.p+"static/media/background.b34bf1a8.jpg"},174:function(e,t,a){"use strict";a.r(t),a.d(t,"fetchRequest",function(){return o}),a.d(t,"fetchResponse",function(){return i}),a.d(t,"getEngines",function(){return l}),a.d(t,"selectProcess",function(){return s}),a.d(t,"changeFileID",function(){return u});var n,r=a(58),c=a(53),o=Object(c.createAction)("fetch request",function(e){return{loading:e}}),i=Object(c.createAction)("fetch response",function(e){return{loading:e}}),l=Object(c.createAction)("get engines",function(e){return{engines:e}}),s=Object(c.createAction)("select process",function(e){return{selected:e}}),u=Object(c.createAction)("change fileId",function(e){return{fileId:e}});t.default=Object(c.createReducer)((n={},Object(r.a)(n,s,function(e,t){var a=t.selected;return Object.assign({},e,{selected:a})}),Object(r.a)(n,l,function(e,t){var a=t.engines;return Object.assign({},e,{engines:a})}),Object(r.a)(n,u,function(e,t){var a=t.fileId;return Object.assign({},e,{fileId:a})}),Object(r.a)(n,o,function(e){return Object.assign({},e,{loading:!0})}),Object(r.a)(n,i,function(e){return Object.assign({},e,{loading:!1})}),n),{selected:{name:null,engines:[]},loading:!1,engines:[],fileId:null})},28:function(e,t,a){"use strict";a.d(t,"r",function(){return o}),a.d(t,"t",function(){return i}),a.d(t,"s",function(){return l}),a.d(t,"e",function(){return s}),a.d(t,"h",function(){return u}),a.d(t,"f",function(){return d}),a.d(t,"q",function(){return m}),a.d(t,"l",function(){return p}),a.d(t,"n",function(){return f}),a.d(t,"m",function(){return g}),a.d(t,"i",function(){return h}),a.d(t,"g",function(){return E}),a.d(t,"j",function(){return b}),a.d(t,"b",function(){return y}),a.d(t,"p",function(){return v}),a.d(t,"u",function(){return O}),a.d(t,"k",function(){return j}),a.d(t,"a",function(){return k}),a.d(t,"d",function(){return x}),a.d(t,"o",function(){return S}),a.d(t,"c",function(){return w});a(172);var n=a(30),r=a(42),c=a(512),o=function(e){e?c.defaults.headers.common["x-access-token"]=e:delete c.defaults.headers.common["x-access-token"]},i=function(e){return c({method:"post",url:"".concat(n.a._API_SERVER,"/api/auth/signup"),data:e})},l=function(e){return c({method:"post",url:"".concat(n.a._API_SERVER,"/api/auth/signin"),data:e})},s=function(){return c.get("".concat(n.a._API_SERVER,"/api/engines"))},u=function(e){return c.get("".concat(n.a._API_SERVER,"/api/process/").concat(e))},d=function(){return c.get("".concat(n.a._API_SERVER,"/api/typeOfPermits/engines"))},m=function(e){return c({method:"post",url:"".concat(n.a._API_SERVER,"/api/process_file"),data:e})},p=function(e){return c({method:"post",url:"".concat(n.a._API_SERVER,"/api/process/processFile"),data:e})},f=function(e){return c({method:"post",url:"".concat(n.a._API_SERVER,"/api/process/quoteFile"),data:e})},g=function(e){return c({method:"post",url:"".concat(n.a._API_SERVER,"/api/process/processFileAfterQuoteFile"),data:e})},h=function(){var e=r.a.getToken();return c.defaults.headers.common["x-access-token"]=e,c.get("".concat(n.a._API_SERVER,"/api/process/user"))},E=function(){var e=r.a.getToken();return c.defaults.headers.common["x-access-token"]=e,c.get("".concat(n.a._API_SERVER,"/api/process/process"))},b=function(){var e=r.a.getToken();return c.defaults.headers.common["x-access-token"]=e,c.get("".concat(n.a._API_SERVER,"/api/users/listAll"))},y=function(e){var t=r.a.getToken();return c.defaults.headers.common["x-access-token"]=t,c({method:"post",url:"".concat(n.a._API_SERVER,"/api/users/create"),data:e})},v=function(e){var t=r.a.getToken();return c.defaults.headers.common["x-access-token"]=t,c({method:"put",url:"".concat(n.a._API_SERVER,"/api/users/remove"),data:e})},O=function(e){var t=r.a.getToken();return c.defaults.headers.common["x-access-token"]=t,c({method:"put",url:"".concat(n.a._API_SERVER,"/api/users/update"),data:e})},j=function(){var e=r.a.getToken();return c.defaults.headers.common["x-access-token"]=e,c.get("".concat(n.a._API_SERVER,"/api/typeOfPermits/list"))},k=function(e){var t=r.a.getToken();return c.defaults.headers.common["x-access-token"]=t,c({method:"post",url:"".concat(n.a._API_SERVER,"/api/typeOfPermits/add"),data:e})},x=function(e){var t=r.a.getToken();return c.defaults.headers.common["x-access-token"]=t,c({method:"put",url:"".concat(n.a._API_SERVER,"/api/typeOfPermits/edit"),data:e})},S=function(e){var t=r.a.getToken();return c.defaults.headers.common["x-access-token"]=t,c({method:"put",url:"".concat(n.a._API_SERVER,"/api/typeOfPermits/remove"),data:e})},w=function(e){var t=r.a.getToken();return c.defaults.headers.common["x-access-token"]=t,c({method:"put",url:"".concat(n.a._API_SERVER,"/api/typeOfPermits/default"),data:e})}},30:function(e,t,a){"use strict";t.a={_API_SERVER:"http://pgweb.pangeamt.com:3000",API_SERVER:"http://localhost:3000"}},354:function(e,t){},372:function(e){e.exports={app:{title:"Welcome to react-intl",intro:"To get started, edit <code>src/App.js</code> and save to reload."},signup:{success:"Registration completed successfully",error:{email:"The email is already in use",all:"There has been an error, please try later"}},signin:{success:"Signin completed successfully",error:{user:"The user has not been found",password:"The password is invalid",all:"There has been an error, please try later"}}}},384:function(e,t,a){e.exports=a(785)},402:function(e,t){},408:function(e,t){},42:function(e,t,a){"use strict";var n=a(257),r=JSON.parse,c=JSON.stringify,o={clear:function(e){return localStorage&&localStorage.getItem(e)?localStorage.removeItem(e):sessionStorage&&sessionStorage.getItem(e)?sessionStorage.removeItem(e):null},clearAppStorage:function(){localStorage&&localStorage.clear(),sessionStorage&&sessionStorage.clear()},clearToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jwtToken";return o.clear(e)},clearUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"userInfo";return o.clear(e)},get:function(e){return localStorage&&localStorage.getItem(e)?r(localStorage.getItem(e))||null:sessionStorage&&sessionStorage.getItem(e)&&r(sessionStorage.getItem(e))||null},getToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jwtToken";return o.get(e)},getUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"userInfo";return o.get(e)},set:function(e,t,a){return Object(n.isEmpty)(e)?null:a&&localStorage?localStorage.setItem(t,c(e)):sessionStorage?sessionStorage.setItem(t,c(e)):null},setToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jwtToken";return o.set(e,a,t)},setUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"userInfo";return o.set(e,a,t)}};t.a=o},509:function(e,t){},531:function(e,t,a){},583:function(e,t,a){},66:function(e,t,a){"use strict";a(257);var n={hasErrors:function(e){return Object.keys(e).some(function(t){return e[t]})},getBase64:function(e,t){var a=new FileReader;a.readAsDataURL(e);var n={fileName:e.name,fileType:e.type};a.onload=function(){n.file=a.result,t(null,n)},a.onerror=function(e){console.log("Error: ",e),t(e,null)}},checkFile:function(e){var t=e.name.substr(e.name.lastIndexOf(".")+1);return!!/(docx|xlsx|pptx|odt)$/gi.test(t)},getStatus:function(e){return(e=parseInt(e))<0?"Processing Error":3===e?"Waiting":5===e?"Waiting Quoting":6===e?"Quoting":7===e?"Quotes Ready":17===e?"Pending Accept/Reject":20===e?"Preprocessing":30===e?"Processing":40===e?"PostProcessing":100===e?"Finished":110===e||120===e?"Downloaded":"Waiting"},languages:{en:"English",es:"Spanish",el:"Greek",fa:"Persian",de:"Deutsch",nl:"Dutch",ja:"Japanese",pt:"Portuguese Brazil",pp:"Portuguese Portugal",sv:"Swedish",zh:"Chinese",fr:"French",it:"Italian",pl:"Polish",ru:"Russian",va:"Valencian",ar:"Arabic"},getStatusByText:function(e){return{processing_error:"Processing Error",waiting:"Waiting",waiting_quoting:"Waiting Quoting",quoting:"Quoting",quote_ready:"Quotes Ready",pending_accept_reject:"Pending Accept/Reject",preprocessing:"Pre processing",processing:"Processing",post_processing:"Post Processing",finished:"Finished",downloaded:"Downloaded"}[e]}};t.a=n},753:function(e,t,a){},755:function(e,t,a){"use strict";!function(e){e.FileDownload=function(e,a,n){return new Promise(function(r,c){var o="data:".concat(a,";base64,").concat(e);fetch(o).then(function(e){return e.blob()}).catch(function(e){return c(e)}).then(function(e){t(e,n),r()}).catch(function(e){return c(e)})})};var t=function(t,a){var n=document.createElement("a");n.href=e.URL.createObjectURL(t),n.download=a,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}(window)},778:function(e,t,a){},785:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchAuth",function(){return Fe}),a.d(n,"addNotifications",function(){return qe}),a.d(n,"changeNotifications",function(){return De}),a.d(n,"default",function(){return Le});a(385);var r=a(373),c=a(0),o=a.n(c),i=a(9),l=a.n(i),s=a(73),u=a(794),d=a(789),m=a(81),p=a(191),f=a(374),g=a.n(f),h=a(80),E=a(355),b=a.n(E)()({loader:function(){return a.e(1).then(a.bind(null,791))},loading:function(){return null}}),y=a(23),v=a(24),O=a(26),j=a(25),k=a(27),x=(a(197),a(127)),S=(a(133),a(54)),w=a(15),P=a(56),T=a(16),I=a(126),A=a(170),C=a(171),N=(a(62),a(14)),R=(a(216),a(92)),_=(a(116),a(47)),F=(a(144),a(7)),q=(a(134),a(19)),D=a(43),L=(a(135),a(41)),V=a(788),U=a(792),M=a(28),z=a(42);a(531);function W(){var e=Object(w.a)(["\n  &.ant-form-inline .ant-form-item {\n    margin: 0 !important;\n  }\n"]);return W=function(){return e},e}var B=Object(T.a)(L.a.Item)(W()),K=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.handleReset=function(){a.props.form.resetFields()},a.success=function(e){var t=a.props,n=t.intl.messages,r=t.signIn,c=t.history,o=e.data.accessToken;q.a.success(n.signin.success),z.a.setToken(o,!0),r(e.data),Object(M.r)(o),a.handleReset(),c.push("/dashboard"),a.setState({loading:!1})},a.handleSubmit=function(e){var t=a.props.intl.messages,n=Object(D.a)(Object(D.a)(a));e.preventDefault(),a.props.form.validateFields(function(e,r){if(!e){var c={email:r.email,password:r.password};a.setState({loading:!0}),Object(M.s)(c).then(function(e){n.success(e)}).catch(function(n){try{404===n.response.status?q.a.error(t.signin.error.user):401===n.response.status?q.a.error(t.signin.error.password):q.a.error(t.signin.error.all),a.setState({loading:!1})}catch(e){console.log(e)}})}})},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.loading;return o.a.createElement("div",null,o.a.createElement("img",{style:{width:"100%"},alt:"logo",src:"/images/PangeaMTsmall.png"}),o.a.createElement(L.a,{onSubmit:this.handleSubmit,className:"login-form"},o.a.createElement(B,null,e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(o.a.createElement(_.a,{prefix:o.a.createElement(F.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),o.a.createElement(B,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(o.a.createElement(_.a,{prefix:o.a.createElement(F.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),o.a.createElement(B,null,e("remember",{valuePropName:"checked",initialValue:!0})(o.a.createElement(R.a,null,"Remember me")),o.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password"),o.a.createElement(N.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:t},t?"Send Data":"Sign me in"),"Or ",o.a.createElement(V.a,{to:"/signup"},"register now!"))))}}]),t}(c.Component),H=L.a.create()(Object(h.b)(K)),Q=Object(U.a)(H),J=a(173),Y=a.n(J);function G(){var e=Object(w.a)(["\n  background: #e4edf2 !important;\n  border-color: #b4d8e4 !important;\n"]);return G=function(){return e},e}function $(){var e=Object(w.a)(["\n  background-image: url(",") !important;\n  background-size: cover !important;\n  background-position: center center !important;\n  min-height: 100vh !important;\n"]);return $=function(){return e},e}function X(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 100px;\n  width: 350px;\n  margin: 0 auto;\n  margin-top: 110px;\n"]);return X=function(){return e},e}var Z=T.a.div(X()),ee=Object(T.a)(S.a)($(),Y.a),te=Object(T.a)(x.a)(G()),ae=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).signIn=function(e){(0,a.props.authAct.fetchAuth)(e)},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.location;return o.a.createElement(ee,null,o.a.createElement(C.a,null),o.a.createElement(A.a,null,o.a.createElement(Z,null,o.a.createElement(te,{style:{width:"100%"}},o.a.createElement(Q,{signIn:this.signIn,location:e})))))}}]),t}(c.Component);var ne=Object(s.c)(function(e){return{location:e.router.location}},function(e){return{authAct:Object(P.a)(I,e)}})(ae);a(583);function re(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center button {\n    width: 50%;\n  }\n"]);return re=function(){return e},e}var ce=L.a.Item,oe=T.a.div(re());var ie=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={plan:"annual",loading:!1},a._changePlan=function(e){a.setState({plan:e})},a.handleReset=function(){a.props.form.resetFields()},a.handleSubmit=function(e){var t=a.props.intl.messages;e.preventDefault(),a.props.form.validateFields(function(e,n){if(!e){var r={fullName:n.fullName,email:n.email,password:n.password};a.setState({loading:!0}),Object(M.t)(r).then(function(e){q.a.success(t.signup.success),a.setState({loading:!1}),a.handleReset()}).catch(function(e){400===e.response.status?q.a.error(t.signup.error.email):q.a.error(t.signup.error.all),a.setState({loading:!1})})}})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldsError,r=this.state.loading;return o.a.createElement("div",null,o.a.createElement("img",{style:{width:"100%"},alt:"logo",src:"/images/PangeaMTsmall.png"}),o.a.createElement(L.a,{onSubmit:this.handleSubmit,className:"login-form"},o.a.createElement(ce,{hasFeedback:!0},a("fullName",{rules:[{required:!0,message:"Please, fullName is required!"}]})(o.a.createElement(_.a,{placeholder:"FullName",type:"text"}))),o.a.createElement(ce,{hasFeedback:!0},a("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(o.a.createElement(_.a,{placeholder:"E-mail"}))),o.a.createElement(ce,{hasFeedback:!0},a("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(o.a.createElement(_.a,{placeholder:"Password",type:"password"}))),o.a.createElement(ce,{hasFeedback:!0},a("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(o.a.createElement(_.a,{type:"password",placeholder:"Confirm Password",onBlur:this.handleConfirmBlur}))),o.a.createElement(ce,null,o.a.createElement(oe,null,o.a.createElement(N.a,{type:"primary",htmlType:"submit",loading:r,className:"login-form-button",disabled:(e=n(),Object.keys(e).some(function(t){return e[t]}))},r?"Send Data":"Register"))),o.a.createElement(ce,null,o.a.createElement(oe,{style:{marginTop:-10}},"Or \xa0\xa0",o.a.createElement(V.a,{to:"/signin"},"log in now!")))))}}]),t}(c.Component),le=L.a.create()(Object(h.b)(ie));function se(){var e=Object(w.a)(["\n  background: #e4edf2 !important;\n  border-color: #b4d8e4 !important;\n"]);return se=function(){return e},e}function ue(){var e=Object(w.a)(["\n  background-image: url(",") !important;\n  background-size: cover !important;\n  background-position: center center !important;\n  min-height: 100vh !important;\n"]);return ue=function(){return e},e}function de(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 100px;\n  width: 350px;\n  margin: 0 auto;\n  margin-top: 70px;\n"]);return de=function(){return e},e}var me=T.a.div(de()),pe=Object(T.a)(S.a)(ue(),Y.a),fe=Object(T.a)(x.a)(se()),ge=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.location;return o.a.createElement(pe,null,o.a.createElement(C.a,null),o.a.createElement(A.a,null,o.a.createElement(me,null,o.a.createElement(fe,{style:{width:"100%"}},o.a.createElement(le,{location:e})))))}}]),t}(c.Component);var he,Ee=Object(s.c)(function(e){return{location:e.router.location}})(ge),be=(a(311),a(110)),ye=(a(312),a(111)),ve=(a(313),a(34)),Oe=a(36),je=a.n(Oe),ke=(a(595),a(371)),xe=a(57),Se=(a(314),a(193)),we=(a(315),a(187)),Pe=a(793),Te=a(790),Ie=a(66),Ae=a(174),Ce=a(58),Ne=a(364),Re=a(53),_e=a(602),Fe=Object(Re.createAction)("fetch auth",function(e){return{auth:e.auth,accessToken:e.accessToken}}),qe=Object(Re.createAction)("add  notifications",function(e){return{notifications:e}}),De=Object(Re.createAction)("change  notifications",function(e){return{notifications:e}}),Le=Object(Re.createReducer)((he={},Object(Ce.a)(he,De,function(e,t){var a=t.notifications;return Object.assign({},e,{notifications:a})}),Object(Ce.a)(he,qe,function(e,t){var a=t.notifications;return a=_e.concat(e.notifications,a),Object(Ne.a)({},e,{notifications:a})}),he),{notifications:[]}),Ve=a(172),Ue=a.n(Ve),Me=a(30),ze=(a(114),a(17)),We=(a(712),a(196)),Be=(a(338),a(183)),Ke=(a(115),a(13)),He=(a(125),a(45)),Qe=a(113),Je=[{genre:"ENES_DeepL",count:275,income:2300},{genre:"ENDE_Generic",count:115,income:667},{genre:"SUMEN_LegalJRC_01",count:120,income:982},{genre:"ENNL_generic",count:350,income:5271},{genre:"ESFR_generic",count:150,income:3710}],Ye={sold:{alias:"\u9500\u552e\u91cf"},genre:{alias:"\u6e38\u620f\u79cd\u7c7b"}},Ge=[{name:"Ernesto M"},{name:"Jhon Doe"},{name:"Lissa Martin"},{name:"Robert Crespo"}],$e=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.authState;return console.log("authState",e),o.a.createElement("div",null,o.a.createElement(He.a,{style:{margin:"16px 0"}},o.a.createElement(He.a.Item,null,"Dashboard")),o.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},o.a.createElement(ze.a,{type:"flex",justify:"center",gutter:16},o.a.createElement(Ke.a,{span:12},o.a.createElement(Qe.Chart,{width:600,height:400,data:Je,scale:Ye},o.a.createElement(Qe.Axis,{name:"genre"}),o.a.createElement(Qe.Axis,{name:"count"}),o.a.createElement(Qe.Legend,{position:"top",dy:-20}),o.a.createElement(Qe.Tooltip,null),o.a.createElement(Qe.Geom,{type:"interval",position:"genre*count",color:"genre"}))),o.a.createElement(Ke.a,{span:12},o.a.createElement(ze.a,null,o.a.createElement(Ke.a,{span:6,style:{display:"flex",justifyContent:"center"}},o.a.createElement(Be.a,{title:"Active Users",value:11})),o.a.createElement(Ke.a,{span:6,style:{display:"flex",justifyContent:"center"}},o.a.createElement(Be.a,{title:"Processes",value:34,precision:2})),o.a.createElement(Ke.a,{span:12},o.a.createElement("p",null,"Last Users"),o.a.createElement(We.a,{bordered:!0,itemLayout:"horizontal",dataSource:Ge,renderItem:function(e){return o.a.createElement(We.a.Item,{size:"small"},o.a.createElement(We.a.Item.Meta,{avatar:o.a.createElement(we.a,null,e.name[0]),title:o.a.createElement("span",{href:"#"},e.name)}))}})))))))}}]),t}(c.Component),Xe=Object(U.a)($e),Ze=(a(378),a(351)),et=a(350),tt=(a(254),a(109)),at=(a(255),a(108)),nt=(a(232),a(86)),rt=(a(379),a(260)),ct=(a(200),a(87)),ot=(a(198),a(52)),it=(a(380),a(349)),lt=a(342),st=a.n(lt);a(753);function ut(){var e=Object(w.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n"]);return ut=function(){return e},e}function dt(){var e=Object(w.a)(["\n  padding: 0 15px !important;\n"]);return dt=function(){return e},e}function mt(){var e=Object(w.a)(["\n  width: 200px;\n  height: 200px;\n"]);return mt=function(){return e},e}function pt(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n"]);return pt=function(){return e},e}function ft(){var e=Object(w.a)(["\n  h2,\n  p {\n    text-align: center;\n  }\n"]);return ft=function(){return e},e}function gt(){var e=Object(w.a)(["\n  // text-transform: uppercase;\n  // text-decoration: underline;\n"]);return gt=function(){return e},e}function ht(){var e=Object(w.a)(["\n  width: 100%;\n  height: 170px;\n  margin-top: 25px;\n  ",";\n"]);return ht=function(){return e},e}function Et(){var e=Object(w.a)(["\n  .ant-badge-count {\n    top: -5px;\n    right: -10px;\n  }\n"]);return Et=function(){return e},e}function bt(){var e=Object(w.a)(["\n  margin: 5px;\n"]);return bt=function(){return e},e}function yt(){var e=Object(w.a)(["\n  float: right;\n  margin: 0 0 15px 0;\n"]);return yt=function(){return e},e}function vt(){var e=Object(w.a)(["\n  margin-bottom: 5px !important;\n  & {\n    .ant-form-item-label {\n      line-height: 20px;\n    }\n    .ant-form-explain {\n      color: rgb(24, 144, 255);\n    }\n  }\n"]);return vt=function(){return e},e}var Ot=it.a.Dragger,jt=L.a.Item,kt=ot.a.Option,xt=ct.a.TabPane;a(755);var St=Object(T.a)(jt)(vt()),wt=Object(T.a)(N.a)(yt()),Pt=Object(T.a)(N.a)(bt()),Tt=Object(T.a)(Se.a)(Et()),It=T.a.div(ht(),function(e){return e.error?"  border: 2px dashed #ea2020":null}),At=T.a.span(gt()),Ct=T.a.div(ft()),Nt=T.a.div(pt()),Rt=Object(T.a)(st.a)(mt()),_t=Object(T.a)(Ke.a)(dt()),Ft=T.a.div(ut()),qt=function(){return o.a.createElement(ze.a,{justify:"center",type:"flex"},o.a.createElement(Ke.a,null,o.a.createElement(Ft,null,o.a.createElement(Rt,{src:"/images/undraw_confirmation_2uy0.svg",loading:function(){return o.a.createElement("div",null,"Loading...")},error:function(){return o.a.createElement("div",null,"Error")}})),o.a.createElement("h2",{style:{textAlign:"center"}}," You\u2019re done!"),o.a.createElement("p",{style:{textAlign:"center"}},"Soon you will receive a notification to the mail to notify the completion of the process."),o.a.createElement(rt.a,null)))},Dt=function(){return o.a.createElement("div",null,o.a.createElement(Ft,null,o.a.createElement(Rt,{src:"/images/undraw_bug_fixing_oc7a.svg",loading:function(){return o.a.createElement("div",null,"Loading...")},error:function(){return o.a.createElement("div",null,"Error")}})),o.a.createElement("h2",null," Hmm, something went wrong"),o.a.createElement("p",null,"so it looks like your transfer didn't work please give it another go"),o.a.createElement(rt.a,null))},Lt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={view:"list",fileList:[],uploading:!1,processEnd:!1,showError:!1,source:null,target:null,visible:!1,viewNoty:"process",value:void 0,_input:null,processData:[],loading:!1,loadingPay:!1,nameEng:null,processSelected:null,quote:null,payResponse:null},a.componentWillReceiveProps=function(e){a.props.count<e.count&&a.getProcess()},a.initStateView=function(e){a.setState({view:e,fileList:[],uploading:!1,processEnd:!1,showError:!1,source:null,target:null,visible:!1,viewNoty:"process",value:void 0,_input:null,loading:!1,nameEng:null,processSelected:null,quote:null})},a.componentDidMount=function(){a.getProcess()},a.changeView=function(e){"list"===e&&a.getProcess(),a.setState({view:e})},a.handleSubmit=function(e){e.preventDefault();var t=Object(D.a)(Object(D.a)(a)),n=a.state,r=n.fileList,c=n.target,o=a.props,i=o.typeOfUser,l=o.changeFileID,s=o.process.selected,u=a.getTargets().filter(function(e){if(e&&e.key===c)return e})[0];u?a.setState({target:c,nameEng:u}):alert("error"),t.setState({showError:!1,viewNoty:"process"}),a.props.form.validateFields(function(e,n){e||(a.state.fileList.length?Ie.a.getBase64(r[0],function(e,a){if(!e){var r=n.target.split("-"),c={process:{id:r[0],name:s.name},engine:u,source:{id:r[0],name:s.name},file:a};t.setState({uploading:!0}),2===i||3===i?Object(M.n)(c).then(function(e){q.a.success("This is a message of success"),t.setState({uploading:!1,viewNoty:"success",fileList:[]}),l(e.data.fileId)}).catch(function(e){console.log(e),q.a.error(e.message),t.setState({uploading:!1,viewNoty:"error"})}):Object(M.l)(c).then(function(e){q.a.success("This is a message of success"),t.setState({uploading:!1,viewNoty:"success",fileList:[]}),l(e.data.fileId)}).catch(function(e){console.log(e),q.a.error(e.message),t.setState({uploading:!1,viewNoty:"error"})})}}):t.setState({showError:!0}))})},a.handleChange=function(e){var t=a.props,n=t.selectProcess;t.process.engines.forEach(function(t){t.id.toString()===e&&n(t)}),a.setState({value:e})},a.changeSource=function(e){a.setState({source:e})},a.changeTarget=function(e){a.setState({target:e})},a.getSources=function(){var e=a.props.process.selected.engines,t=[];return e.forEach(function(e){for(var a=!1,n=0;n<t.length;n++)if(t[n].key===e.source){a=!0;break}if(!a){var r=e.source;t.push({key:r,name:Ie.a.languages[r]})}}),t},a.getProcess=function(){var e=Object(D.a)(Object(D.a)(a));e.setState({loading:!0}),Object(M.g)().then(function(t){e.setState({processData:t.data.process,loading:!1})}).catch(function(t){q.a.error(t.message),e.setState({loading:!1})})},a.getTargets=function(){var e=a.state.source,t=a.props.process.selected.engines,n=[];return t.forEach(function(t){for(var a=!1,r=0;r<n.length;r++)if(n[r].key===t.target){a=!0;break}e&&(a||t.source!==e||(t.domain?(t.key="".concat(t.id,"-").concat(t.target),t.text="".concat(Ie.a.languages[t.target]," - ").concat(t.name," - ").concat(t.domain)):(t.key="".concat(t.id,"-").concat(t.target),t.text="".concat(Ie.a.languages[t.target]," - ").concat(t.name)),n.push(t)))}),n},a.showModal=function(e){a.setState({visible:!0,processSelected:e})},a.hideModal=function(){a.setState({visible:!1,payResponse:null})},a.download=function(e){console.log(e);var t=e.fileDownload.file,a=e.fileDownload.fileType,n=e.fileDownload.filename;window.FileDownload(t,a,n).then(function(){return console.log("download successful.")}).catch(function(e){return console.error("download error: ",e)})},a.pay=function(){var e=Object(xe.a)(je.a.mark(function e(t,n){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loadingPay:!0,quote:n}),e.prev=1,e.next=4,Object(M.m)({fileId:t,quote:n});case 4:e.sent,a.setState({loadingPay:!1,payResponse:"success"}),a.getProcess(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),a.setState({loadingPay:!1,payResponse:"error"}),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t,a){return e.apply(this,arguments)}}(),a.renderList=function(){var e=a.state,t=e.processData,n=e.loading,r=e.processSelected,c=e.loadingPay,i=e.quote,l=e.payResponse,s=[{title:"FileName",dataIndex:"fileName",key:"fileName",sorter:function(e,t){return e.fileName-t.fileName}},{title:"Process Name",dataIndex:"processName",key:"processName",render:function(e,t){return o.a.createElement("span",{style:{textTransform:"capitalize"}},t.processName)}},{title:"Language ",key:"language",render:function(e,t){return o.a.createElement("span",{style:{textTransform:"capitalize"}},o.a.createElement(ye.a,{style:{cursor:"default"},color:"#108ee9"},t.engineSource)," ",o.a.createElement(F.a,{type:"arrow-right"})," ",o.a.createElement(ye.a,{style:{cursor:"default"},color:"#ff3f1b"},t.engineTarget))}},{title:"Status",dataIndex:"status",key:"status",render:function(e){return o.a.createElement(At,null,Ie.a.getStatusByText(e))},filters:[{text:"Waiting",value:"waiting"},{text:"Waiting Quoting",value:"waiting_quoting"},{text:"Quotes Ready",value:"quotes_ready"},{text:"Pending Accept/Reject",value:"pending_accept_reject"},{text:"Preprocessing",value:"preprocessing"},{text:"Processing",value:"processing"},{text:"PostProcessing",value:"postProcessing"}],onFilter:function(e,t){return t.status===e}},{title:"Action",key:"action",render:function(e,t){return o.a.createElement("span",null,o.a.createElement(nt.a,{placement:"top",title:"See Quotes"},o.a.createElement(Pt,{onClick:function(){a.showModal(t)},disabled:"quote_ready"!==t.status,size:"small",type:"primary",shape:"circle",icon:"wallet"})))}}],u=[{title:"FileName",dataIndex:"fileName",key:"fileName",sorter:function(e,t){return e.fileName-t.fileName}},{title:"Process Name",dataIndex:"processName",key:"processName",render:function(e,t){return o.a.createElement("span",{style:{textTransform:"capitalize"}},t.processName)}},{title:"Language ",key:"language",render:function(e,t){return o.a.createElement("span",{style:{textTransform:"capitalize"}},o.a.createElement(ye.a,{color:"#108ee9"},t.engineSource)," ",o.a.createElement(F.a,{type:"arrow-right"})," ",o.a.createElement(ye.a,{color:"#ff3f1b"},t.engineTarget))}},{title:"Status",dataIndex:"status",key:"status",render:function(e){return o.a.createElement(At,null,Ie.a.getStatusByText(e))}},{title:"Action",key:"action",render:function(e,t){return o.a.createElement("span",null,o.a.createElement(nt.a,{placement:"top",title:"Download"},o.a.createElement(Pt,{onClick:function(){a.download(t)},disabled:t.status<=100,size:"small",type:"primary",shape:"circle",icon:"download"})))}}],d=t.filter(function(e){return"downloaded"===e.status}),m=t.filter(function(e){return"downloaded"!==e.status}),p=o.a.createElement(wt,{type:"primary",icon:"file-add",onClick:function(){a.changeView("process")}},"New Process");return o.a.createElement("div",null,o.a.createElement(ze.a,null,o.a.createElement(Ke.a,null,o.a.createElement(ct.a,{defaultActiveKey:"1",tabBarExtraContent:p},o.a.createElement(xt,{tab:o.a.createElement(Tt,{count:m.length},o.a.createElement("span",null,"In Process")),key:"1"},o.a.createElement(at.a,{size:"small",loading:n,columns:s,dataSource:m})),o.a.createElement(xt,{tab:o.a.createElement(Tt,{count:d.length},o.a.createElement("span",null,"Finished")),key:"2"},o.a.createElement(at.a,{size:"small",loading:n,columns:u,dataSource:d}))))),o.a.createElement(tt.a,{title:"Quotes",width:600,visible:a.state.visible,onCancel:a.hideModal,footer:null},"success"!==l&&"error"!==l?o.a.createElement(ze.a,{justify:"center",type:"flex"},r&&r.quotes?r.quotes.map(function(e){return o.a.createElement(Ke.a,{key:e.optionid,xs:24,md:8},o.a.createElement(ze.a,{justify:"center",type:"flex",align:"middle"},o.a.createElement(Ke.a,{style:{textAlign:"center",minHeight:45}},o.a.createElement(Be.a,{title:e.option,value:e.price,precision:4}),o.a.createElement(N.a,{loading:c&&i.optionid===e.optionid,onClick:function(){a.pay(r.fileId,e)},style:{marginTop:16},type:"primary"},"Pay"))))}):null):null,"success"===l?o.a.createElement(qt,null):null,"error"===l?o.a.createElement(qt,null):null))},a.renderProcess=function(){var e=a.props,t=e.process,n=e.form,r=n.getFieldDecorator,c=n.getFieldsError,i=a.state,l=i.fileList,s=i.uploading,u=i.processEnd,d=i.showError,m=i.source,p=i.viewNoty,f=i.target,g={onRemove:function(e){u||a.setState(function(t){var a=t.fileList.indexOf(e),n=t.fileList.slice();return n.splice(a,1),{fileList:n}})},beforeUpload:function(e){var t=e.size/1024/1024<2;return Ie.a.checkFile(e)?t?a.setState(function(t){return{fileList:Object(et.a)(t.fileList).concat([e])}}):q.a.error("Image must smaller than 2MB!"):q.a.error("You can only upload (docx|xlsx|pptx|odt) file!"),!1},disabled:l.length,multiple:!1,fileList:l},h=a.getTargets();if(console.log(h),"process"===p){var E=t.engines.map(function(e){return o.a.createElement(kt,{key:e.id},e.name.replace(/^\w/,function(e){return e.toUpperCase()}))});return o.a.createElement("div",null,o.a.createElement(ze.a,null,o.a.createElement(Ke.a,null,o.a.createElement(wt,{type:"primary",icon:"rollback",onClick:function(){a.changeView("list")}},"List Process"))),o.a.createElement(ze.a,null,o.a.createElement(Ke.a,null,o.a.createElement(L.a,{onSubmit:a.handleSubmit},o.a.createElement(ze.a,{type:"flex",justify:"center"},o.a.createElement(_t,{xs:24,md:12},o.a.createElement(ze.a,null,o.a.createElement(Ke.a,{xs:24},o.a.createElement(St,null,o.a.createElement(It,{error:d&&!l.length},o.a.createElement(Ot,g,o.a.createElement("p",{className:"ant-upload-drag-icon"},o.a.createElement(F.a,{type:"inbox"})),o.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload")),d&&!l.length?o.a.createElement(Ze.a,{style:{margin:5},message:"You must upload a file before continuing!!",type:"error",showIcon:!0}):null))))),o.a.createElement(_t,{xs:24,md:12},o.a.createElement(ze.a,{type:"flex",justify:"center",align:"middle"},o.a.createElement(Ke.a,{xs:24},o.a.createElement(St,{label:"Process type",hasFeedback:!0},r("process",{disabled:null===m||u,rules:[{required:!0,message:"Please select your Process!"}]})(o.a.createElement(ot.a,{autofocus:"true",ref:function(e){return a.state._input=e},onChange:a.handleChange},E))),o.a.createElement(St,{label:"Source Language",hasFeedback:!0},r("source",{disabled:u,rules:[{required:!0,message:"Please select your Language of origin!"}]})(o.a.createElement(ot.a,{disabled:!a.getSources().length,onChange:a.changeSource},a.getSources().map(function(e){return o.a.createElement(kt,{value:e.key},e.name)})))),o.a.createElement(St,{label:"Target Language",hasFeedback:!0},r("target",{disabled:null===m||u,rules:[{required:!0,message:"Please select your Exit language!"}]})(o.a.createElement(ot.a,{onChange:a.changeTarget,disabled:null===m||u},h.map(function(e){return o.a.createElement(kt,{value:e.key},e.text)})))))))),o.a.createElement(ze.a,null,o.a.createElement(Ke.a,{xs:24},o.a.createElement(St,{style:{display:"flex",justifyContent:"center"}},u?null:o.a.createElement(N.a,{icon:"file",type:"primary",htmlType:"submit",size:"large",loading:s,disabled:!a.getSources().length||!f||!m||Ie.a.hasErrors(c())},s?"Uploading":"Start Upload"))))))))}return"error"===p?o.a.createElement("div",null,o.a.createElement(ze.a,null,o.a.createElement(Ke.a,null,o.a.createElement(wt,{type:"primary",icon:"rollback",onClick:function(){a.changeView("list")}},"List Process"))),o.a.createElement(ze.a,null,o.a.createElement(Ke.a,null,o.a.createElement(Ct,null,o.a.createElement(Dt,null),o.a.createElement(Nt,null,o.a.createElement(N.a,{onClick:function(){a.initStateView("process")},type:"primary",size:"large"},"Try Again")))))):"success"===p?o.a.createElement("div",null,o.a.createElement(ze.a,null,o.a.createElement(Ke.a,null,o.a.createElement(wt,{type:"primary",icon:"rollback",onClick:function(){a.initStateView("list")}},"List Process"))),o.a.createElement(ze.a,null,o.a.createElement(Ke.a,null,o.a.createElement(Ct,null,o.a.createElement(qt,null),o.a.createElement(Nt,null,o.a.createElement(N.a,{onClick:function(){a.initStateView("process")},type:"primary",size:"large"},"Send another?")))))):void 0},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state.view;return o.a.createElement("div",null,o.a.createElement(He.a,{style:{margin:"16px 0"}},o.a.createElement(He.a.Item,null,"Process / Services")),o.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},"list"===e?this.renderList():this.renderProcess()))}}]),t}(c.Component),Vt=L.a.create()(Lt),Ut=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(He.a,{style:{margin:"16px 0"}},o.a.createElement(He.a.Item,null,"ProfileCmp")),o.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},"ProfileCmp"))}}]),t}(c.Component),Mt=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(He.a,{style:{margin:"16px 0"}},o.a.createElement(He.a.Item,null,"Process / Services")),o.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},"Configuration"))}}]),t}(c.Component),zt=(a(352),a(189)),Wt=(a(341),a(67));function Bt(){var e=Object(w.a)(["\n  margin: 5px;\n"]);return Bt=function(){return e},e}var Kt=ct.a.TabPane,Ht=L.a.Item,Qt=ot.a.Option,Jt=Wt.a.Group,Yt=Object(T.a)(N.a)(Bt()),Gt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={users:[],typeOfPermits:[],defaultTypeOfPermits:null,user:{fullName:"",rol:"user",email:"",typeOfUser:3},loading:!1,sendLoading:!1,visible:!1,visibleEdit:!1,mode:"add"},a.componentWillMount=function(){a.getUsers(),a.getTypeOfPermits()},a.handleReset=function(){a.props.form.resetFields()},a.showModal=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=a.props.userLogin;"edit"===e?a.setState({visibleEdit:!0,mode:e,user:t,defaultTypeOfPermits:t.TypeOfPermit?t.TypeOfPermit.id:null}):"client"===n.rol?a.setState({visible:!0,mode:e,user:{fullName:"",rol:"user",email:"",typeOfUser:n.typeOfUser},defaultTypeOfPermits:n.TypeOfPermit?n.TypeOfPermit.id:null}):a.setState({visible:!0,mode:e,user:{fullName:"",rol:"user",email:"",typeOfUser:3}})},a.hideModal=function(){var e=Object(D.a)(Object(D.a)(a));a.setState({visible:!1,visibleEdit:!1}),a.handleReset(),setTimeout(function(){e.setState({mode:"add"})},1e3)},a.getUsers=Object(xe.a)(je.a.mark(function e(){var t;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:!0}),e.next=4,Object(M.j)();case 4:t=e.sent,a.setState({users:t.data.users,loading:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),q.a.error(e.t0.message),a.setState({loading:!1});case 12:case"end":return e.stop()}},e,this,[[0,8]])})),a.getTypeOfPermits=Object(xe.a)(je.a.mark(function e(){var t,n,r;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:!0}),e.next=4,Object(M.k)();case 4:if(t=e.sent,n=null,"client"===a.props.userLogin.rol){e.next=18;break}r=0;case 8:if(!(r<t.data.length)){e.next=15;break}if(!t.data[r].default){e.next=12;break}return n=t.data[r].id,e.abrupt("break",15);case 12:r++,e.next=8;break;case 15:a.setState({typeOfPermits:t.data,defaultTypeOfPermits:n,loading:!1}),e.next=19;break;case 18:a.setState({typeOfPermits:t.data,loading:!1});case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),q.a.error(e.t0.message),a.setState({loading:!1});case 25:case"end":return e.stop()}},e,this,[[0,21]])})),a.mustPay=function(e){if(e){var t=a.state.user;t.quotes=!0,a.setState({user:t})}},a.handleReset=function(){a.props.form.resetFields()},a.handleSubmit=function(e){var t=a.props.intl.messages,n=a.state,r=n.mode,c=n.user;e.preventDefault(),a.props.form.validateFields(function(e,n){if(!e||"edit"===r&&e.confirm&&e.password){var o={id:c.id||null,fullName:n.fullName,email:n.email,password:n.password,rol:n.rol,typeOfPermits:n.typeOfPermits,typeOfUser:n.typeOfUser};a.setState({sendLoading:!0}),"add"===r?Object(M.b)(o).then(function(e){q.a.success("Action successfully."),a.setState({sendLoading:!1}),a.handleReset(),a.getUsers(),a.hideModal()}).catch(function(e){400===e.response.status?q.a.error(t.signup.error.email):q.a.error(t.signup.error.all),a.setState({sendLoading:!1})}):Object(M.u)(o).then(function(e){q.a.success("Action successfully."),a.setState({sendLoading:!1}),a.handleReset(),a.getUsers(),a.hideModal()}).catch(function(e){400===e.response.status?q.a.error(t.signup.error.email):q.a.error(t.signup.error.all),a.setState({sendLoading:!1})})}})},a.confirm=function(){var e=Object(xe.a)(je.a.mark(function e(t){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(M.p)({id:t});case 3:a.getUsers(),q.a.success("Action successfully."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),q.a.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.userLogin,a=this.state,n=a.user,r=a.typeOfPermits,c=a.defaultTypeOfPermits,i=a.users,l=a.loading,s=a.visible,u=a.visibleEdit,d=a.sendLoading,m=a.mode,p=this.props.form,f=p.getFieldDecorator,g=(p.getFieldsError,[{title:"Full Name",dataIndex:"fullName",key:"fullName"},{title:"Email",dataIndex:"email",key:"email"},{title:"Rol",dataIndex:"rol",key:"rol"},{title:"Action",key:"action",render:function(t,a){return o.a.createElement("span",null,o.a.createElement(Yt,{onClick:function(){e.showModal("edit",a)},size:"small",type:"primary",shape:"circle",icon:"edit"}),o.a.createElement(zt.a,{onConfirm:function(){e.confirm(a.id)},title:"Are you sure delete this User?",okText:"Yes",cancelText:"No"},o.a.createElement(Yt,{size:"small",type:"danger",shape:"circle",icon:"delete"})))}}]),h=o.a.createElement(N.a,{onClick:function(){e.showModal("add")},type:"primary",icon:"user-add"},"Add User"),E={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},b={display:"block",height:"30px",lineHeight:"30px"},y=o.a.createElement("div",null,o.a.createElement(Ht,{label:"Password",hasFeedback:!0},f("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(o.a.createElement(_.a,{disabled:"see"===m,type:"password"}))),o.a.createElement(Ht,{label:"Confirm your password",hasFeedback:!0},f("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(o.a.createElement(_.a,{type:"password",onBlur:this.handleConfirmBlur}))));return o.a.createElement("div",null,o.a.createElement(He.a,{style:{margin:"16px 0"}},o.a.createElement(He.a.Item,null,"Users")),o.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},o.a.createElement(ct.a,{defaultActiveKey:"all",tabBarExtraContent:h},o.a.createElement(Kt,{tab:"All Users",key:"all"},o.a.createElement(at.a,{size:"small",loading:l,dataSource:i,columns:g}))),o.a.createElement(tt.a,{centered:!0,width:600,title:"User create",visible:s,onOk:this.hideModal,onCancel:this.hideModal,footer:[o.a.createElement(N.a,{key:"back",onClick:this.hideModal},"Cancel"),o.a.createElement(N.a,{key:"submit",type:"primary",loading:d,onClick:this.handleSubmit},"Create")]},o.a.createElement(L.a,Object.assign({},E,{onSubmit:this.handleSubmit}),o.a.createElement(ze.a,{justify:"center",type:"flex"},o.a.createElement(Ke.a,{xs:24},o.a.createElement(Ht,{label:"FullName",hasFeedback:!0},f("fullName",{initialValue:n.fullName,rules:[{required:!0,message:"Please, fullName is required!"}]})(o.a.createElement(_.a,{disabled:"see"===m,type:"text"}))),o.a.createElement(Ht,{label:"E-mail",hasFeedback:!0},f("email",{initialValue:n.email,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(o.a.createElement(_.a,{disabled:"add"!==m}))),o.a.createElement(Ht,{label:"Rol",hasFeedback:!0},f("rol",{initialValue:n.rol,rules:[{required:!0,message:"Please, fullName is required!"}]})(o.a.createElement(ot.a,{disabled:"client"===t.rol,defaultValue:n.rol},o.a.createElement(Qt,{value:"user"},"User"),o.a.createElement(Qt,{value:"client"},"Client"),o.a.createElement(Qt,{value:"admin"},"Admin")))),o.a.createElement(Ht,{label:"Type of permits",hasFeedback:!0},f("typeOfPermits",{initialValue:c,rules:[{required:!0,message:"Please, fullName is required!"}]})(o.a.createElement(ot.a,{disabled:"client"===t.rol,defaultValue:c},r.map(function(e){return o.a.createElement(Qt,{value:e.id},e.name)})))),o.a.createElement(Ht,{label:"Type of user"},f("typeOfUser",{initialValue:n.typeOfUser,rules:[{required:!0,message:"Please, fullName is required!"}]})(o.a.createElement(Jt,{disabled:"client"===t.rol,onChange:this.onChange,value:this.state.value},o.a.createElement(Wt.a,{style:b,value:1},"No quotes and no payment."),o.a.createElement(Wt.a,{style:b,value:2},"With quotes and without payment."),o.a.createElement(Wt.a,{style:b,value:3},"With quotes and with payment.")))),y)))),o.a.createElement(tt.a,{centered:!0,width:600,title:"User edit",visible:u,onOk:this.hideModal,onCancel:this.hideModal,footer:[o.a.createElement(N.a,{key:"back",onClick:this.hideModal},"Cancel"),o.a.createElement(N.a,{key:"submit",type:"primary",loading:d,onClick:this.handleSubmit},"Save")]},o.a.createElement(L.a,Object.assign({},E,{onSubmit:this.handleSubmit}),o.a.createElement(ze.a,{justify:"center",type:"flex"},o.a.createElement(Ke.a,{xs:24},o.a.createElement(Ht,{label:"FullName",hasFeedback:!0},f("fullName",{initialValue:n.fullName,rules:[{required:!0,message:"Please, fullName is required!"}]})(o.a.createElement(_.a,{disabled:"see"===m,type:"text"}))),o.a.createElement(Ht,{label:"E-mail",hasFeedback:!0},f("email",{initialValue:n.email,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(o.a.createElement(_.a,{disabled:"add"!==m}))),o.a.createElement(Ht,{label:"Rol",hasFeedback:!0},f("rol",{initialValue:n.rol,rules:[{required:!0,message:"Please, fullName is required!"}]})(o.a.createElement(ot.a,{disabled:"client"===t.rol,defaultValue:n.rol},o.a.createElement(Qt,{value:"user"},"User"),o.a.createElement(Qt,{value:"client"},"Client"),o.a.createElement(Qt,{value:"admin"},"Admin")))),o.a.createElement(Ht,{label:"Type of Permits",hasFeedback:!0},f("typeOfPermits",{initialValue:c,rules:[{required:!0,message:"Please, fullName is required!"}]})(o.a.createElement(ot.a,{disabled:"client"===t.rol,defaultValue:c},r.map(function(e){return o.a.createElement(Qt,{value:e.id},e.name)})))),o.a.createElement(Ht,{label:"Type of user"},f("typeOfUser",{initialValue:n.typeOfUser,rules:[{required:!0,message:"Please, fullName is required!"}]})(o.a.createElement(Jt,{disabled:"client"===t.rol,onChange:this.onChange,value:this.state.value},o.a.createElement(Wt.a,{style:b,value:1},"No quotes and no payment."),o.a.createElement(Wt.a,{style:b,value:2},"With quotes and without payment."),o.a.createElement(Wt.a,{style:b,value:3},"With quotes and with payment."))))))))))}}]),t}(c.Component),$t=L.a.create()(Object(h.b)(Gt)),Xt=Object(U.a)($t),Zt=(a(774),a(268));function ea(){var e=Object(w.a)(["\n  padding: 0 15px !important;\n"]);return ea=function(){return e},e}function ta(){var e=Object(w.a)(["\n  margin: 5px;\n"]);return ta=function(){return e},e}function aa(){var e=Object(w.a)(["\n  .ant-form-item-required {\n    float: left;\n    margin-bottom: -10px;\n  }\n"]);return aa=function(){return e},e}function na(){var e=Object(w.a)(["\n  background-color: #87d068 !important;\n  color: #ffffff !important;\n  cursor: default !important;\n"]);return na=function(){return e},e}function ra(){var e=Object(w.a)(["\n  float: right;\n  margin-bottom: 15px;\n"]);return ra=function(){return e},e}var ca=Zt.a.TreeNode,oa=Object(T.a)(N.a)(ra()),ia=Object(T.a)(N.a)(na()),la=Object(T.a)(L.a.Item)(aa()),sa=Object(T.a)(N.a)(ta()),ua=Object(T.a)(Ke.a)(ea()),da=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={process:[],loading:!1,visible:!1,expandedKeys:[],autoExpandParent:!0,checkedKeys:[],arrayTypeOfPermits:[],typeSelected:{id:null,name:"",typeOfProcesses:[]}},a.componentWillMount=function(){a.getProcesses(),a.getTypeOfProcesses()},a.getProcesses=Object(xe.a)(je.a.mark(function e(){var t;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(M.f)();case 3:t=e.sent,a.setState({process:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])})),a.getTypeOfProcesses=Object(xe.a)(je.a.mark(function e(){var t;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:!0}),e.next=4,Object(M.k)();case 4:t=e.sent,a.setState({arrayTypeOfPermits:t.data,loading:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),a.setState({loading:!1}),q.a.error(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[0,8]])})),a.onCheck=function(e){console.log("onCheck",e),a.setState({checkedKeys:e})},a.renderTreeNodes=function(e){return e.map(function(e){return o.a.createElement(ca,{title:e.name,key:e.id,dataRef:e},e.engines?a.renderTreeNodes(e.engines):null)})},a.onExpand=function(e){console.log("onExpand",e),a.setState({expandedKeys:e,autoExpandParent:!1})},a.showModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?a.setState({visible:!0,typeSelected:e,checkedKeys:e.typeOfProcesses}):a.setState({visible:!0})},a.hideModal=function(){a.setState({visible:!1})},a.handleSubmit=function(e){var t=Object(D.a)(Object(D.a)(a));e.preventDefault(),a.props.form.validateFields(function(e,a){if(!e)if(t.setState({loading:!0}),t.state.typeSelected.name){var n={id:t.state.typeSelected.id,name:a.name,typeOfProcesses:t.state.checkedKeys};Object(M.d)(n).then(function(e){q.a.success("Action successfully."),t.setState({loading:!1,visible:!1}),t.getTypeOfProcesses()}).catch(function(e){q.a.error(e.message),t.setState({loading:!1,visible:!1})})}else{var r={name:a.name,typeOfProcesses:t.state.checkedKeys};Object(M.a)(r).then(function(e){q.a.success("Action successfully."),t.setState({loading:!1,visible:!1}),t.getTypeOfProcesses()}).catch(function(e){q.a.error(e.message),t.setState({loading:!1,visible:!1})})}})},a.confirm=function(){var e=Object(xe.a)(je.a.mark(function e(t){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(M.o)({id:t});case 3:a.getTypeOfProcesses(),q.a.success("Action successfully."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),q.a.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a.setDefault=function(){var e=Object(xe.a)(je.a.mark(function e(t){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:!0}),e.next=4,Object(M.c)({id:t});case 4:a.getTypeOfProcesses(),q.a.success("Action successfully."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),q.a.error(e.t0.message);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),a.renderList=function(){var e=a.state,t=e.loading,n=e.arrayTypeOfPermits,r=[{title:"Name",dataIndex:"name",key:"name",sorter:function(e,t){return e.name-t.name}},{title:"Default",dataIndex:"default",key:"default",render:function(e,n){return o.a.createElement("span",null,n.default?o.a.createElement(ia,{size:"small",shape:"circle",icon:"check",loading:t}):null,n.default?null:o.a.createElement(N.a,{onClick:function(){a.setDefault(n.id)},type:"danger",size:"small",shape:"circle",loading:t}))}},{title:"Action",key:"action",fixed:"right",width:200,render:function(e,t){return o.a.createElement("span",null,o.a.createElement(sa,{onClick:function(){a.showModal(t)},disabled:t.status<=100,size:"small",type:"primary",shape:"circle",icon:"edit"}),o.a.createElement(zt.a,{onConfirm:function(){a.confirm(t.id)},title:"Are you sure delete this Type of Permits?",okText:"Yes",cancelText:"No"},o.a.createElement(sa,{size:"small",type:"danger",shape:"circle",icon:"delete"})))}}];return o.a.createElement(ze.a,null,o.a.createElement(Ke.a,null,o.a.createElement(ze.a,null,o.a.createElement(Ke.a,null,o.a.createElement(oa,{onClick:function(){a.showModal()},type:"primary",icon:"plus-circle"},"Add permission type"))),o.a.createElement(ze.a,null,o.a.createElement(Ke.a,null,o.a.createElement(at.a,{size:"small",loading:t,columns:r,dataSource:n})))))},a.renderForm=function(){var e=a.props.form.getFieldDecorator;return o.a.createElement(ze.a,null,o.a.createElement(Ke.a,null,o.a.createElement(ze.a,null,o.a.createElement(L.a,Object.assign({},{labelCol:{xs:{span:24}},wrapperCol:{xs:{span:24}}},{onSubmit:a.handleSubmit}),o.a.createElement(ze.a,{type:"flex",justify:"center"},o.a.createElement(ua,{xs:24,md:12},o.a.createElement(ze.a,{type:"flex",justify:"center",align:"middle"},o.a.createElement(Ke.a,{xs:24},o.a.createElement(la,{label:"Name"},e("name",{initialValue:a.state.typeSelected.name,rules:[{required:!0,message:"Please input name field!"}]})(o.a.createElement(_.a,null)))))),o.a.createElement(ua,{xs:24,md:12,style:{maxHeight:300,overflow:"auto"}},o.a.createElement(ze.a,{type:"flex",justify:"center",align:"middle"},o.a.createElement(Ke.a,{xs:24},o.a.createElement(Zt.a,{checkable:!0,onExpand:a.onExpand,expandedKeys:a.state.expandedKeys,autoExpandParent:a.state.autoExpandParent,onCheck:a.onCheck,checkedKeys:a.state.checkedKeys},a.renderTreeNodes(a.state.process))))))))))},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,a=e.typeSelected;return o.a.createElement("div",null,o.a.createElement(He.a,{style:{margin:"16px 0"}},o.a.createElement(He.a.Item,null,"Type of Permits")),o.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},this.renderList()),o.a.createElement(tt.a,{width:620,title:a.id?"Edit permission type":"Create permission type",visible:this.state.visible,onOk:this.hideModal,onCancel:this.hideModal,footer:[o.a.createElement(N.a,{key:"back",onClick:this.hideModal},"Cancel"),o.a.createElement(N.a,{key:"submit",type:"primary",loading:t,onClick:this.handleSubmit},a.id?"Save":"Create")]},this.renderForm()))}}]),t}(c.Component),ma=L.a.create()(Object(h.b)(da)),pa=Object(U.a)(ma),fa=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).renderAdmin=function(e){return o.a.createElement(ve.a,{theme:"dark",defaultSelectedKeys:[a.props.pathname],mode:"inline"},o.a.createElement(ve.a.Item,{key:"/dashboard"},o.a.createElement(V.a,{to:"/dashboard"},o.a.createElement(F.a,{type:"dashboard"}),o.a.createElement("span",null," Dashboard "))),o.a.createElement(ve.a.Item,{key:"/dashboard/users"},o.a.createElement(V.a,{to:"/dashboard/users"},o.a.createElement(F.a,{type:"user"}),o.a.createElement("span",null," Users "))),o.a.createElement(ve.a.Item,{key:"/dashboard/typeOfPermits"},o.a.createElement(V.a,{to:"/dashboard/typeOfPermits"},o.a.createElement(F.a,{type:"stop"}),o.a.createElement("span",null," Type of permits "))),o.a.createElement(ve.a.Item,{key:"/dashboard/profile"},o.a.createElement(V.a,{to:"/dashboard/profile"},o.a.createElement(F.a,{type:"profile"}),o.a.createElement("span",null," Profile "))),o.a.createElement(ve.a.Item,{key:"/dashboard/configuration"},o.a.createElement(V.a,{to:"/dashboard/configuration"},o.a.createElement(F.a,{type:"setting"}),o.a.createElement("span",null," Configurations "))))},a.renderClient=function(e){return o.a.createElement(ve.a,{theme:"dark",defaultSelectedKeys:[a.props.pathname],mode:"inline"},o.a.createElement(ve.a.Item,{key:"/dashboard"},o.a.createElement(V.a,{to:"/dashboard"},o.a.createElement(F.a,{type:"dashboard"}),o.a.createElement("span",null," Dashboard "))),o.a.createElement(ve.a.Item,{key:"/dashboard/users"},o.a.createElement(V.a,{to:"/dashboard/users"},o.a.createElement(F.a,{type:"user"}),o.a.createElement("span",null," Users "))),o.a.createElement(ve.a.Item,{key:"/dashboard/profile"},o.a.createElement(V.a,{to:"/dashboard/profile"},o.a.createElement(F.a,{type:"profile"}),o.a.createElement("span",null," Profile "))))},a.renderUser=function(e){return o.a.createElement(ve.a,{theme:"dark",defaultSelectedKeys:[a.props.pathname],mode:"inline"},o.a.createElement(ve.a.Item,{key:"/dashboard"},o.a.createElement(V.a,{to:"/dashboard"},o.a.createElement(F.a,{type:"dashboard"}),o.a.createElement("span",null," Dashboard "))),o.a.createElement(ve.a.Item,{key:"/dashboard/process-services"},o.a.createElement(V.a,{to:"/dashboard/process-services"},o.a.createElement(F.a,{type:"desktop"}),o.a.createElement("span",null," Services / Processes "))),o.a.createElement(ve.a.Item,{key:"/dashboard/profile"},o.a.createElement(V.a,{to:"/dashboard/profile"},o.a.createElement(F.a,{type:"profile"}),o.a.createElement("span",null," Profile "))))},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rol,a=e.pathname;return"user"===t?this.renderUser(a):"client"===t?this.renderClient(a):"admin"===t?this.renderAdmin(a):null}}]),t}(c.Component);function ga(){var e=Object(w.a)(["\n  min-height: 100vh !important;\n"]);return ga=function(){return e},e}function ha(){var e=Object(w.a)(["\n  cursor: pointer;\n  float: right;\n  margin-right: 15px !important;\n  margin-top: 15px !important;\n  right: 50px;\n"]);return ha=function(){return e},e}function Ea(){var e=Object(w.a)(["\n  cursor: pointer;\n  float: right;\n  margin-right: 15px !important;\n  margin-top: 15px !important;\n  right: 40px;\n"]);return Ea=function(){return e},e}function ba(){var e=Object(w.a)(["\n  height: 32px;\n  background: #ffffff;\n  margin: 16px;\n  img {\n    height: 60px;\n    margin-right: 16px;\n  }\n"]);return ba=function(){return e},e}var ya=S.a.Header,va=S.a.Content,Oa=S.a.Footer,ja=S.a.Sider,ka=T.a.div(ba()),xa=Object(T.a)(we.a)(Ea()),Sa=Object(T.a)(Se.a)(ha()),wa=Object(T.a)(S.a)(ga()),Pa=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,loading:!1,count:0},a.componentWillMount=function(){a.getEngines(),a._getUser(),Ue()(Me.a._API_SERVER).on("notification_dashboard",function(e){a.runNotification(e)})},a.runNotification=function(){var e=Object(xe.a)(je.a.mark(function e(t){var n,r,c,o;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.authState,c=n.notificationAct.changeNotifications,t.data.userId!==r.user.id){e.next=8;break}return e.next=4,Object(M.i)();case 4:o=e.sent,c(o.data.user.Notifications),a.setState({count:a.state.count+1}),ke.a.info({message:Ie.a.getStatusByText(t.type),description:"You are notified that you have a process with quotes ready."});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a._getUser=Object(xe.a)(je.a.mark(function e(){var t,n,r,c,o;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(D.a)(Object(D.a)(a)),t=a.props,n=t.history,r=t.authAct.fetchUser,c=t.notificationAct.changeNotifications,a.setState({loading:!0}),e.prev=3,e.next=6,Object(M.i)();case 6:o=e.sent,r(o.data.user),c(o.data.user.Notifications),a.setState({loading:!1}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),z.a.clearAppStorage(),n.push("/"),a.setState({loading:!1});case 17:case"end":return e.stop()}},e,this,[[3,12]])})),a.getEngines=function(){var e=a.props.processAct,t=e.getEngines,n=e.fetchRequest,r=e.fetchResponse;n(),Object(M.e)().then(function(e){var a=e.data;t(a),r()}).catch(function(e){console.log(e),r()})},a.onCollapse=function(e){console.log(e),a.setState({collapsed:e})},a.logout=function(){var e=a.props.history;z.a.clearAppStorage(),e.push("/")},a._selectProcess=function(e){(0,a.props.processAct.selectProcess)(e)},a._changeFileID=function(e){(0,a.props.processAct.changeFileID)(e)},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props,a=t.location.pathname,n=t.process,r=t.authState,c=t.notificationState.notifications,i=c.length,l=this.state.count,s=o.a.createElement(ve.a,null,o.a.createElement(ve.a.Item,{key:"2"},o.a.createElement(V.a,{to:"/dashboard/profile"},o.a.createElement(F.a,{type:"profile"})," Profile"," ")),o.a.createElement(ve.a.Item,{key:"3",onClick:this.logout},o.a.createElement(F.a,{type:"logout"})," Logout")),u=c.map(function(e,t){var a=Ie.a.getStatusByText(e.type);return o.a.createElement(ve.a.Item,{key:"noty".concat(t)},o.a.createElement(F.a,{type:"desktop"})," ",e.data.fileName," ",o.a.createElement(ye.a,{color:"#2db7f5"},a))}),m=[],p=0,f=u.length-1;f>=0&&(m.push(u[f]),5!==++p);f--);m.push(o.a.createElement(ve.a.Item,{key:"more",style:{textAlign:"right",textDecoration:"underline",color:"#008dff",marginRight:10}},"See more..."));var g=o.a.createElement(ve.a,null,m);return o.a.createElement(wa,null,o.a.createElement(ja,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},o.a.createElement(ka,null," "),o.a.createElement(fa,{pathname:a,rol:r.user.rol})),o.a.createElement(S.a,null,o.a.createElement(ya,{style:{background:"#fff",padding:0}},o.a.createElement(be.a,{overlay:s,placement:"bottomRight"},o.a.createElement(xa,{icon:"user"}))," ",o.a.createElement(be.a,{overlay:g,placement:"bottomRight"},o.a.createElement(Sa,{count:i},o.a.createElement(N.a,{shape:"circle",icon:"notification"})))," ")," ",o.a.createElement(va,{style:{margin:"0 16px"}},o.a.createElement(Pe.a,null,o.a.createElement(d.a,{exact:!0,path:"/dashboard",render:function(){return o.a.createElement(Xe,{user:r.user})}}),o.a.createElement(d.a,{exact:!0,path:"/dashboard/users",render:function(){return o.a.createElement(Xt,{userLogin:r.user})}}),o.a.createElement(d.a,{exact:!0,path:"/dashboard/typeOfPermits",render:function(){return o.a.createElement(pa,{user:r.user})}}),o.a.createElement(d.a,{exact:!0,path:"/dashboard/process-services",render:function(){return o.a.createElement(Vt,{typeOfUser:r.user.typeOfUser,count:l,changeFileID:e._changeFileID,process:n,selectProcess:e._selectProcess})}}),o.a.createElement(d.a,{exact:!0,path:"/dashboard/profile",component:Ut})," ",o.a.createElement(d.a,{exact:!0,path:"/dashboard/configuration",component:Mt})," ",o.a.createElement(Te.a,{to:{state:{error:!0}}})," ")," ")," ",o.a.createElement(Oa,{style:{textAlign:"center"}},"PangeaMT\xa9 2019. All rights reserved."," ")))}}]),t}(c.Component);var Ta=Object(s.c)(function(e){return{process:e.rootReducer.process,authState:e.rootReducer.auth,notificationState:e.rootReducer.notification,location:e.router.location}},function(e){return{processAct:Object(P.a)(Ae,e),notificationAct:Object(P.a)(n,e),authAct:Object(P.a)(I,e)}})(Object(U.a)(Pa)),Ia=a(376),Aa=function(e){var t=e.component,a=Object(Ia.a)(e,["component"]);return o.a.createElement(d.a,Object.assign({},a,{render:function(e){return null!==z.a.getToken()?o.a.createElement(t,e):o.a.createElement(Te.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},Ca=(a(251),a(131)),Na=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,process:{fileName:null}},a.download=function(e){var t=a.state.process,n=t.fileDownload.file,r=t.fileDownload.fileType,c=t.fileDownload.filename;window.FileDownload(n,r,c).then(function(){return console.log("download successful.")}).catch(function(e){return console.error("download error: ",e)}),window.location="/"},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.uuid;this.setState({loading:!0}),Object(M.h)(t).then(function(t){console.log(t),e.setState({process:t.data,loading:!1})}).catch(function(t){e.setState({loading:!1})})}},{key:"render",value:function(){var e=this;return o.a.createElement(ze.a,{type:"flex",justify:"space-around",align:"middle"},o.a.createElement(Ke.a,{xs:24,md:10},o.a.createElement(Ca.a,{spinning:this.state.loading,tip:"Loading..."},o.a.createElement(x.a,{style:{margin:100},title:"Download File"},o.a.createElement(ze.a,null,o.a.createElement(Ke.a,null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},this.state.process.fileName?this.state.process.fileName:""))),o.a.createElement(ze.a,null,o.a.createElement(Ke.a,null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(N.a,{onClick:function(){e.download()},type:"primary",shape:"round",icon:"download",size:"large"},"Download"))))))))}}]),t}(c.Component),Ra=Object(P.b)({process:Ae.default,auth:I.default,notification:Le});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _a=a(372);a(778);a.d(t,"history",function(){return qa});var Fa={en:_a},qa=Object(m.a)(),Da=function(e,t){var a=P.c;return Object(P.d)(Object(P.b)({router:Object(p.b)(t),rootReducer:Ra,initialState:e}),a())}({},qa);l.a.render(o.a.createElement(s.a,{store:Da},o.a.createElement(p.a,{history:qa},o.a.createElement(h.a,{locale:"en",messages:Fa.en},o.a.createElement(r.a,{locale:g.a},o.a.createElement(u.a,null,o.a.createElement("div",null,o.a.createElement(d.a,{exact:!0,path:"/",component:b}),o.a.createElement(d.a,{exact:!0,path:"/signin",component:ne}),o.a.createElement(d.a,{exact:!0,path:"/signup",component:Ee}),o.a.createElement(d.a,{exact:!0,path:"/signup",component:Ee}),o.a.createElement(d.a,{path:"/download/:uuid",component:Na}),o.a.createElement(Aa,{path:"/dashboard",component:Ta}))))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[384,3,2]]]);
//# sourceMappingURL=main.4d8d8307.chunk.js.map