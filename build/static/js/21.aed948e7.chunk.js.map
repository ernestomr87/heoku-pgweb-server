{"version":3,"sources":["components/Download/index.js"],"names":["DownloadCmp","state","loading","process","fileName","download","record","_this","base64","fileDownload","file","type","fileType","name","filename","window","FileDownload","then","console","log","catch","err","message","error","location","_this2","this","uuid","props","match","params","setState","getProcessByUuid","result","data","_this3","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","antd__WEBPACK_IMPORTED_MODULE_7__","justify","align","antd__WEBPACK_IMPORTED_MODULE_8__","xs","md","antd__WEBPACK_IMPORTED_MODULE_9__","spinning","tip","antd__WEBPACK_IMPORTED_MODULE_10__","style","margin","title","display","justifyContent","antd__WEBPACK_IMPORTED_MODULE_11__","onClick","shape","icon","size","Component"],"mappings":"qQAKqBA,6MACnBC,MAAQ,CACNC,SAAS,EACTC,QAAS,CACPC,SAAU,SAuBdC,SAAW,SAAAC,GAAU,IACXH,EAAYI,EAAKN,MAAjBE,QACJK,EAASL,EAAQM,aAAaC,KAC9BC,EAAOR,EAAQM,aAAaG,SAC5BC,EAAOV,EAAQM,aAAaK,SAChCC,OACGC,aAAaR,EAAQG,EAAME,GAC3BI,KAAK,kBAAMC,QAAQC,IAAI,0BACvBC,MAAM,SAAAC,GAAG,OAAIC,IAAQC,MAAM,mBAAoBF,KAElDN,OAAOS,SAAW,wFA7BA,IAAAC,EAAAC,KACVC,EAASD,KAAKE,MAAMC,MAAMC,OAA1BH,KACRD,KAAKK,SAAS,CACZ7B,SAAS,IAEX8B,YAAiBL,GACdV,KAAK,SAAAgB,GACJR,EAAKM,SAAS,CACZ5B,QAAS8B,EAAOC,KAChBhC,SAAS,MAGZkB,MAAM,SAAAC,GACLI,EAAKM,SAAS,CACZ7B,SAAS,uCAkBR,IAAAiC,EAAAT,KACP,OACEU,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAK5B,KAAK,OAAO6B,QAAQ,eAAeC,MAAM,UAC5CL,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAKC,GAAI,GAAIC,GAAI,IACfR,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAMC,SAAUpB,KAAKzB,MAAMC,QAAS6C,IAAI,cACtCX,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAMC,MAAO,CAAEC,OAAQ,KAAOC,MAAM,iBAClCf,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACI,EAAA,EAAD,KACEN,EAAAC,EAAAC,cAAA,OAAKW,MAAO,CAAEG,QAAS,OAAQC,eAAgB,WAC5C3B,KAAKzB,MAAME,QAAQC,SAAWsB,KAAKzB,MAAME,QAAQC,SAAW,MAInEgC,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACI,EAAA,EAAD,KACEN,EAAAC,EAAAC,cAAA,OAAKW,MAAO,CAAEG,QAAS,OAAQC,eAAgB,WAC7CjB,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CACEC,QAAS,WACPpB,EAAK9B,YAEPM,KAAK,UACL6C,MAAM,QACNC,KAAK,WACLC,KAAK,SAPP,0BAxDqBC","file":"static/js/21.aed948e7.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Row, Col, Card, Button, Spin, message } from 'antd';\r\n\r\nimport { getProcessByUuid } from './../../services';\r\n\r\nexport default class DownloadCmp extends Component {\r\n  state = {\r\n    loading: false,\r\n    process: {\r\n      fileName: null,\r\n    },\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { uuid } = this.props.match.params;\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    getProcessByUuid(uuid)\r\n      .then(result => {\r\n        this.setState({\r\n          process: result.data,\r\n          loading: false,\r\n        });\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          loading: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  download = record => {\r\n    const { process } = this.state;\r\n    var base64 = process.fileDownload.file;\r\n    var type = process.fileDownload.fileType;\r\n    var name = process.fileDownload.filename;\r\n    window\r\n      .FileDownload(base64, type, name)\r\n      .then(() => console.log('download successful.'))\r\n      .catch(err => message.error('download error: ', err));\r\n\r\n    window.location = '/';\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Row type=\"flex\" justify=\"space-around\" align=\"middle\">\r\n        <Col xs={24} md={10}>\r\n          <Spin spinning={this.state.loading} tip=\"Loading...\">\r\n            <Card style={{ margin: 100 }} title=\"Download File\">\r\n              <Row>\r\n                <Col>\r\n                  <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                    {this.state.process.fileName ? this.state.process.fileName : ''}\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>\r\n                  <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                    <Button\r\n                      onClick={() => {\r\n                        this.download();\r\n                      }}\r\n                      type=\"primary\"\r\n                      shape=\"round\"\r\n                      icon=\"download\"\r\n                      size=\"large\"\r\n                    >\r\n                      Download\r\n                    </Button>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </Card>\r\n          </Spin>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}