(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{786:function(e,t,n){},791:function(e,t,n){"use strict";n.r(t);var a=n(23),r=n(24),c=n(26),o=n(25),l=n(27),i=(n(133),n(54)),s=n(15),u=n(0),g=n.n(u),m=n(56),d=n(73),f=(n(30),n(16)),p=n(174),h=n(126),b=n(28),E=(n(786),n(115),n(13)),v=(n(197),n(127)),y=(n(114),n(17)),j=(n(379),n(260)),O=(n(62),n(14)),w=(n(116),n(47)),x=(n(378),n(351)),k=(n(144),n(7)),S=n(350),C=(n(134),n(19)),L=n(36),F=n.n(L),T=n(57),N=n(43),P=(n(198),n(52)),_=(n(135),n(41)),A=(n(380),n(349)),D=(n(172),n(342)),I=n.n(D),q=n(66);function z(){var e=Object(s.a)(["\n  width: 100%;\n  height: auto;\n"]);return z=function(){return e},e}function U(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n"]);return U=function(){return e},e}function B(){var e=Object(s.a)(["\n  h2,\n  p {\n    text-align: center;\n  }\n"]);return B=function(){return e},e}function Y(){var e=Object(s.a)(["\n  width: 100%;\n  ",";\n"]);return Y=function(){return e},e}function J(){var e=Object(s.a)(["\n  margin-bottom: 5px !important;\n  & {\n    .ant-form-item-label {\n      line-height: 20px;\n    }\n    .ant-form-explain {\n      color: rgb(24, 144, 255);\n    }\n  }\n"]);return J=function(){return e},e}var M=A.a.Dragger,R=_.a.Item,H=P.a.Option,G=Object(f.a)(R)(J()),K=f.a.div(Y(),function(e){return e.error?"  border: 2px dashed #ea2020":null}),Q=f.a.div(B()),V=f.a.div(U()),W=Object(f.a)(I.a)(z()),X=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){n.getEngines(),n.state._input.focus()},n.getEngines=Object(T.a)(F.a.mark(function e(){var t;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.prev=1,e.next=4,Object(b.e)();case 4:t=e.sent,n.setState({engines:t.data,loading:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n.setState({loading:!1}),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,8]])})),n.handleSubmit=function(e){e.preventDefault();var t=Object(N.a)(Object(N.a)(n)),a=n.state,r=a.fileList,c=a.target,o=a.selected,l=(n.props.rol,n.getTargets().filter(function(e){if(e&&e.key===c)return e})[0]);l?n.setState({target:c,nameEng:l}):alert("error"),t.setState({showError:!1,viewNoty:"process"}),n.props.form.validateFields(function(e,a){e||(n.state.fileList.length?q.a.getBase64(r[0],function(e,n){if(!e){var r=a.target.split("-"),c={process:{id:r[0],name:o.name},engine:l,source:{id:r[0],name:o.name},file:n,email:a.email};t.setState({uploading:!0}),Object(b.q)(c).then(function(e){C.a.success("This is a message of success"),t.setState({uploading:!1,viewNoty:"success",fileList:[]})}).catch(function(e){console.log(e),C.a.error(e.message),t.setState({uploading:!1,viewNoty:"error"})})}}):t.setState({showError:!0}))})},n.handleChange=function(e){n.state.engines.forEach(function(t){t.id.toString()===e&&n.setState({selected:t})}),n.setState({value:e})},n.changeSource=function(e){n.setState({source:e})},n.changeTarget=function(e){n.setState({target:e})},n.getSources=function(){var e=n.state.selected.engines,t=[];return e.forEach(function(e){for(var n=!1,a=0;a<t.length;a++)if(t[a].key===e.source){n=!0;break}if(!n){var r=e.source;t.push({key:r,name:q.a.languages[r]})}}),t},n.getTargets=function(){var e=n.state,t=e.source,a=e.selected.engines,r=[];return a.forEach(function(e){for(var n=!1,a=0;a<r.length;a++)if(r[a].key===e.target){n=!0;break}t&&(n||e.source!==t||(e.domain?(e.key="".concat(e.id,"-").concat(e.target),e.text="".concat(q.a.languages[e.target]," - ").concat(e.name," - ").concat(e.domain)):(e.key="".concat(e.id,"-").concat(e.target),e.text="".concat(q.a.languages[e.target]," - ").concat(e.name)),r.push(e)))}),r},n.changeEmail=function(e){n.setState({email:e})},n.renderForms=function(){var e=n.props.form,t=e.getFieldDecorator,a=e.getFieldsError,r=n.state,c=r.fileList,o=r.uploading,l=r.processEnd,i=r.showError,s=r.source,u=r.target,m=r.loading,d=r.engines,f=r.selected,p=r.email,h={onRemove:function(e){l||n.setState(function(t){var n=t.fileList.indexOf(e),a=t.fileList.slice();return a.splice(n,1),{fileList:a}})},beforeUpload:function(e){var t=e.size/1024/1024<2;return q.a.checkFile(e)?t?n.setState(function(t){return{fileList:Object(S.a)(t.fileList).concat([e])}}):C.a.error("Image must smaller than 2MB!"):C.a.error("You can only upload (docx|xlsx|pptx|odt) file!"),!1},disabled:c.length,multiple:!1,fileList:c},b=[];return d.length&&(b=d.map(function(e){return g.a.createElement(H,{key:e.id},e.name.replace(/^\w/,function(e){return e.toUpperCase()}))})),g.a.createElement(_.a,Object.assign({},{labelCol:{span:{span:24}},wrapperCol:{span:{span:24}}},{onSubmit:n.handleSubmit}),g.a.createElement(y.a,{type:"flex",justify:"center",align:"middle"},g.a.createElement(E.a,{xs:24},g.a.createElement(G,{wrapperCol:{xs:{span:24}}},g.a.createElement(K,{error:i&&!c.length},g.a.createElement(M,h,g.a.createElement("p",{className:"ant-upload-drag-icon"},g.a.createElement(k.a,{type:"inbox"})),g.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload")),i&&!c.length?g.a.createElement(x.a,{style:{margin:5},message:"You must upload a file before continuing!!",type:"error",showIcon:!0}):null))),g.a.createElement(E.a,{xs:24},g.a.createElement(G,{validateStatus:m?"validating":"",label:"Process type",hasFeedback:!0},t("process",{disabled:null===s||l,rules:[{required:!0,message:"Please select your Process!"}]})(g.a.createElement(P.a,{autofocus:"true",ref:function(e){return n.state._input=e},onChange:n.handleChange},b)))),g.a.createElement(E.a,{xs:24},g.a.createElement(G,{label:"Source Language",hasFeedback:!0},t("source",{disabled:l,rules:[{required:!0,message:"Please select your Language of origin!"}]})(g.a.createElement(P.a,{disabled:!n.getSources().length,onChange:n.changeSource},n.getSources().map(function(e){return g.a.createElement(H,{value:e.key},e.name)})))),g.a.createElement(G,{label:"Target Language",hasFeedback:!0},t("target",{disabled:null===s||l,rules:[{required:!0,message:"Please select your Exit language!"}]})(g.a.createElement(P.a,{onChange:n.changeTarget,disabled:null===s||l},n.getTargets().map(function(e){return g.a.createElement(H,{value:e.key},e.name)})))),g.a.createElement(G,{label:"Notification email",hasFeedback:!0,help:"The result of the process will be notified via email."},t("email",{disabled:l,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(g.a.createElement(w.a,{onChange:n.changeEmail,disabled:!f.engines.length})))),g.a.createElement(E.a,{xs:24},g.a.createElement(G,{style:{display:"flex",justifyContent:"center",marginBottom:0}},l?null:g.a.createElement(y.a,{justify:"center",type:"flex"},g.a.createElement(O.a,{style:{marginTop:10},icon:"upload",type:"primary",htmlType:"submit",size:"large",loading:o,disabled:!n.getSources().length||!u||!s||!p||q.a.hasErrors(a())},o?"Uploading":"Start Upload"))))))},n.state={fileList:[],uploading:!1,processEnd:!1,showError:!1,source:null,target:null,email:null,viewNoty:"process",value:void 0,_input:null,loading:!1,engines:[],selected:{engines:[]}},n.handleChange=n.handleChange.bind(Object(N.a)(Object(N.a)(n))),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state.viewNoty;return"process"===t?this.renderForms():"error"===t?g.a.createElement(Q,null,g.a.createElement(W,{src:"/images/undraw_bug_fixing_oc7a.svg",loading:function(){return g.a.createElement("div",null,"Loading...")},error:function(){return g.a.createElement("div",null,"Error")}}),g.a.createElement("h2",null," Hmm, something went wrong"),g.a.createElement("p",null,"so it looks like your transfer didn't work \u2013 please give it another go"),g.a.createElement(j.a,null),g.a.createElement(V,null,g.a.createElement(O.a,{onClick:function(){e.setState({viewNoty:"process"})},type:"primary",size:"large"},"Try Again"))):"success"===t?g.a.createElement(Q,null,g.a.createElement(W,{src:"/images/undraw_confirmation_2uy0.svg",loading:function(){return g.a.createElement("div",null,"Loading...")},error:function(){return g.a.createElement("div",null,"Error")}}),g.a.createElement("h2",null," You\u2019re done!"),g.a.createElement("p",null,"Soon you will receive a notification to the mail to notify the completion of the process."),g.a.createElement(j.a,null),g.a.createElement(V,null,g.a.createElement(O.a,{onClick:function(){e.setState({viewNoty:"process"})},type:"primary",size:"large"},"Send another?"))):void 0}}]),t}(u.Component),Z=_.a.create()(X);function $(){var e=Object(s.a)(["\n  width: 90%;\n  height: 88%;\n  background: #e4edf2 !important;\n  border-color: #b4d8e4 !important;\n"]);return $=function(){return e},e}function ee(){var e=Object(s.a)(["\n  min-height: 100vh;\n"]);return ee=function(){return e},e}var te=Object(f.a)(y.a)(ee()),ne=Object(f.a)(v.a)($()),ae=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l))))._selectProcess=function(e){(0,n.props.selectProcess)(e)},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.process,n=e.changeFileID;return g.a.createElement(te,{type:"flex",justify:"center"},g.a.createElement(E.a,{xs:22,sm:16,md:12,lg:8,xl:6,style:{display:"flex",justifyContent:"center"}},g.a.createElement(ne,null,g.a.createElement(Z,{changeFileID:n,process:t,selectProcess:this._selectProcess}))),g.a.createElement(E.a,{xs:22,sm:8,md:12,lg:16,xl:18}))}}]),t}(u.Component),re=n(170),ce=n(171),oe=n(173),le=n.n(oe);function ie(){var e=Object(s.a)(["\n  background-image: url(",") !important;\n  background-size: cover !important;\n  background-position: center center !important;\n"]);return ie=function(){return e},e}var se=Object(f.a)(i.a)(ie(),le.a),ue=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={view:"signin",visible:!1},n.signIn=function(e){(0,n.props.authAct.fetchAuth)(e)},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return g.a.createElement(se,null,g.a.createElement(ce.a,null),g.a.createElement(re.a,null,g.a.createElement(ae,null)))}}]),t}(u.Component);t.default=Object(d.c)(function(e){return{process:e.rootReducer.process,location:e.router.location}},function(e){return{processAct:Object(m.a)(p,e),authAct:Object(m.a)(h,e)}})(ue)}}]);
//# sourceMappingURL=1.f8c4d205.chunk.js.map