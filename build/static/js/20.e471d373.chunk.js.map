{"version":3,"sources":["components/Download/index.js"],"names":["DownloadCmp","state","loading","process","fileName","download","record","_this","base64","fileDownload","file","type","fileType","name","filename","window","FileDownload","then","console","log","catch","err","error","location","_this2","this","uuid","props","match","params","setState","getProcessByUuid","result","data","_this3","react__WEBPACK_IMPORTED_MODULE_15___default","a","createElement","antd_es_row__WEBPACK_IMPORTED_MODULE_7__","justify","align","antd_es_col__WEBPACK_IMPORTED_MODULE_9__","xs","md","antd_es_spin__WEBPACK_IMPORTED_MODULE_1__","spinning","tip","antd_es_card__WEBPACK_IMPORTED_MODULE_3__","style","margin","title","display","justifyContent","antd_es_button__WEBPACK_IMPORTED_MODULE_5__","onClick","shape","icon","size","Component"],"mappings":"qSAKqBA,6MACnBC,MAAQ,CACNC,SAAS,EACTC,QAAS,CACPC,SAAU,SAuBdC,SAAW,SAAAC,GAAU,IACXH,EAAYI,EAAKN,MAAjBE,QACJK,EAASL,EAAQM,aAAaC,KAC9BC,EAAOR,EAAQM,aAAaG,SAC5BC,EAAOV,EAAQM,aAAaK,SAChCC,OACGC,aAAaR,EAAQG,EAAME,GAC3BI,KAAK,kBAAMC,QAAQC,IAAI,0BACvBC,MAAM,SAAAC,GAAG,OAAIH,QAAQI,MAAM,mBAAoBD,KAElDN,OAAOQ,SAAW,wFA7BA,IAAAC,EAAAC,KACVC,EAASD,KAAKE,MAAMC,MAAMC,OAA1BH,KACRD,KAAKK,SAAS,CACZ5B,SAAS,IAEX6B,YAAiBL,GACdT,KAAK,SAAAe,GACJR,EAAKM,SAAS,CACZ3B,QAAS6B,EAAOC,KAChB/B,SAAS,MAGZkB,MAAM,SAAAC,GACLG,EAAKM,SAAS,CACZ5B,SAAS,uCAkBR,IAAAgC,EAAAT,KACP,OACEU,EAAAC,EAAAC,cAAAC,EAAA,GAAK3B,KAAK,OAAO4B,QAAQ,eAAeC,MAAM,UAC5CL,EAAAC,EAAAC,cAAAI,EAAA,GAAKC,GAAI,GAAIC,GAAI,IACfR,EAAAC,EAAAC,cAAAO,EAAA,GAAMC,SAAUpB,KAAKxB,MAAMC,QAAS4C,IAAI,cACtCX,EAAAC,EAAAC,cAAAU,EAAA,GAAMC,MAAO,CAAEC,OAAQ,KAAOC,MAAM,iBAClCf,EAAAC,EAAAC,cAAAC,EAAA,OACEH,EAAAC,EAAAC,cAAAI,EAAA,OACEN,EAAAC,EAAAC,cAAA,OAAKW,MAAO,CAAEG,QAAS,OAAQC,eAAgB,WAC5C3B,KAAKxB,MAAME,QAAQC,SAAWqB,KAAKxB,MAAME,QAAQC,SAAW,MAInE+B,EAAAC,EAAAC,cAAAC,EAAA,OACEH,EAAAC,EAAAC,cAAAI,EAAA,OACEN,EAAAC,EAAAC,cAAA,OAAKW,MAAO,CAAEG,QAAS,OAAQC,eAAgB,WAC7CjB,EAAAC,EAAAC,cAAAgB,EAAA,GACEC,QAAS,WACPpB,EAAK7B,YAEPM,KAAK,UACL4C,MAAM,QACNC,KAAK,WACLC,KAAK,SAPP,0BAxDqBC","file":"static/js/20.e471d373.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Row, Col, Card, Button, Spin } from 'antd';\n\nimport { getProcessByUuid } from './../../services';\n\nexport default class DownloadCmp extends Component {\n  state = {\n    loading: false,\n    process: {\n      fileName: null,\n    },\n  };\n\n  componentDidMount() {\n    const { uuid } = this.props.match.params;\n    this.setState({\n      loading: true,\n    });\n    getProcessByUuid(uuid)\n      .then(result => {\n        this.setState({\n          process: result.data,\n          loading: false,\n        });\n      })\n      .catch(err => {\n        this.setState({\n          loading: false,\n        });\n      });\n  }\n\n  download = record => {\n    const { process } = this.state;\n    var base64 = process.fileDownload.file;\n    var type = process.fileDownload.fileType;\n    var name = process.fileDownload.filename;\n    window\n      .FileDownload(base64, type, name)\n      .then(() => console.log('download successful.'))\n      .catch(err => console.error('download error: ', err));\n\n    window.location = '/';\n  };\n\n  render() {\n    return (\n      <Row type=\"flex\" justify=\"space-around\" align=\"middle\">\n        <Col xs={24} md={10}>\n          <Spin spinning={this.state.loading} tip=\"Loading...\">\n            <Card style={{ margin: 100 }} title=\"Download File\">\n              <Row>\n                <Col>\n                  <div style={{ display: 'flex', justifyContent: 'center' }}>\n                    {this.state.process.fileName ? this.state.process.fileName : ''}\n                  </div>\n                </Col>\n              </Row>\n              <Row>\n                <Col>\n                  <div style={{ display: 'flex', justifyContent: 'center' }}>\n                    <Button\n                      onClick={() => {\n                        this.download();\n                      }}\n                      type=\"primary\"\n                      shape=\"round\"\n                      icon=\"download\"\n                      size=\"large\"\n                    >\n                      Download\n                    </Button>\n                  </div>\n                </Col>\n              </Row>\n            </Card>\n          </Spin>\n        </Col>\n      </Row>\n    );\n  }\n}\n"],"sourceRoot":""}