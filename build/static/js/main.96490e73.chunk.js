(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,a){"use strict";a.r(t),a.d(t,"fetchAuth",function(){return c}),a.d(t,"fetchUser",function(){return i});var n,r=a(59),o=a(54),c=Object(o.createAction)("fetch auth",function(e){return{auth:e.auth,accessToken:e.accessToken}}),i=Object(o.createAction)("fetch user",function(e){return{user:e}});t.default=Object(o.createReducer)((n={},Object(r.a)(n,c,function(e,t){var a=t.auth,n=t.accessToken;return Object.assign({},e,{auth:a,accessToken:n})}),Object(r.a)(n,i,function(e,t){var a=t.user;return Object.assign({},e,{user:a})}),n),{auth:!1,accessToken:null,user:{}})},177:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a(24),r=a(25),o=a(27),c=a(26),i=a(28),l=a(16),s=(a(137),a(55)),u=a(0),d=a.n(u),m=a(17);function p(){var e=Object(l.a)(["\n  min-height: 100vh;\n"]);return p=function(){return e},e}var f=s.a.Content,g=Object(m.a)(f)(p()),h=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return d.a.createElement(g,null,this.props.children)}}]),t}(u.Component)},178:function(e,t,a){"use strict";a.d(t,"a",function(){return k});a(99);var n=a(15),r=(a(100),a(12)),o=a(24),c=a(25),i=a(27),l=a(26),s=a(28),u=(a(60),a(14)),d=a(16),m=(a(137),a(55)),p=a(0),f=a.n(p),g=a(17),h=a(794);function E(){var e=Object(d.a)(["\n  overflow: hidden;\n  padding-left: 40px;\n  float: left;\n  height: 64px;\n  line-height: 64px;\n  text-decoration: none;\n  white-space: nowrap;\n  img {\n    height: 60px;\n    margin-right: 16px;\n  }\n"]);return E=function(){return e},e}function b(){var e=Object(d.a)(["\n  margin: 0 2px;\n"]);return b=function(){return e},e}function y(){var e=Object(d.a)(["\n  background: transparent !important;\n  width: 100%;\n"]);return y=function(){return e},e}var v=m.a.Header,O=Object(g.a)(v)(y()),j=Object(g.a)(u.a)(b()),x=g.a.a(E()),k=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return f.a.createElement(O,null,f.a.createElement(n.a,null,f.a.createElement(r.a,{xs:24,md:12},f.a.createElement(x,{href:"/"},f.a.createElement("img",{alt:"logo",src:"/images/PangeaMTsmall.png"}))),f.a.createElement(r.a,{xs:24,md:12,style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},f.a.createElement(h.a,{push:!0,to:"/signin"},f.a.createElement(j,{type:"primary",className:"header-enter-button"},"SignIn")),f.a.createElement(j,{type:"primary",className:"header-enter-button"},"About us"),f.a.createElement(j,{type:"primary",className:"header-enter-button"},"Help"))))}}]),t}(p.Component)},180:function(e,t,a){e.exports=a.p+"static/media/background.b34bf1a8.jpg"},181:function(e,t,a){"use strict";a.r(t),a.d(t,"fetchRequest",function(){return c}),a.d(t,"fetchResponse",function(){return i}),a.d(t,"getEngines",function(){return l}),a.d(t,"selectProcess",function(){return s}),a.d(t,"changeFileID",function(){return u});var n,r=a(59),o=a(54),c=Object(o.createAction)("fetch request",function(e){return{loading:e}}),i=Object(o.createAction)("fetch response",function(e){return{loading:e}}),l=Object(o.createAction)("get engines",function(e){return{engines:e}}),s=Object(o.createAction)("select process",function(e){return{selected:e}}),u=Object(o.createAction)("change fileId",function(e){return{fileId:e}});t.default=Object(o.createReducer)((n={},Object(r.a)(n,s,function(e,t){var a=t.selected;return Object.assign({},e,{selected:a})}),Object(r.a)(n,l,function(e,t){var a=t.engines;return Object.assign({},e,{engines:a})}),Object(r.a)(n,u,function(e,t){var a=t.fileId;return Object.assign({},e,{fileId:a})}),Object(r.a)(n,c,function(e){return Object.assign({},e,{loading:!0})}),Object(r.a)(n,i,function(e){return Object.assign({},e,{loading:!1})}),n),{selected:{name:null,engines:[]},loading:!1,engines:[],fileId:null})},22:function(e,t,a){"use strict";a.d(t,"s",function(){return c}),a.d(t,"w",function(){return i}),a.d(t,"v",function(){return l}),a.d(t,"e",function(){return s}),a.d(t,"i",function(){return u}),a.d(t,"f",function(){return d}),a.d(t,"r",function(){return m}),a.d(t,"m",function(){return p}),a.d(t,"o",function(){return f}),a.d(t,"n",function(){return g}),a.d(t,"j",function(){return h}),a.d(t,"h",function(){return E}),a.d(t,"k",function(){return b}),a.d(t,"b",function(){return y}),a.d(t,"q",function(){return v}),a.d(t,"x",function(){return O}),a.d(t,"l",function(){return j}),a.d(t,"a",function(){return x}),a.d(t,"d",function(){return k}),a.d(t,"p",function(){return S}),a.d(t,"c",function(){return w}),a.d(t,"g",function(){return P}),a.d(t,"t",function(){return I}),a.d(t,"u",function(){return T});a(179);var n=a(29),r=a(37),o=a(515),c=function(e){e?o.defaults.headers.common["x-access-token"]=e:delete o.defaults.headers.common["x-access-token"]},i=function(e){return o({method:"post",url:"".concat(n.a._API_SERVER,"/api/auth/signup"),data:e})},l=function(e){return o({method:"post",url:"".concat(n.a._API_SERVER,"/api/auth/signin"),data:e})},s=function(){return o.get("".concat(n.a._API_SERVER,"/api/engines"))},u=function(e){return o.get("".concat(n.a._API_SERVER,"/api/process/").concat(e))},d=function(){return o.get("".concat(n.a._API_SERVER,"/api/typeOfPermits/engines"))},m=function(e){return o({method:"post",url:"".concat(n.a._API_SERVER,"/api/process_file"),data:e})},p=function(e){return o({method:"post",url:"".concat(n.a._API_SERVER,"/api/process/processFile"),data:e})},f=function(e){return o({method:"post",url:"".concat(n.a._API_SERVER,"/api/process/quoteFile"),data:e})},g=function(e){return o({method:"post",url:"".concat(n.a._API_SERVER,"/api/process/processFileAfterQuoteFile"),data:e})},h=function(){var e=r.a.getToken();return o.defaults.headers.common["x-access-token"]=e,o.get("".concat(n.a._API_SERVER,"/api/process/user"))},E=function(){var e=r.a.getToken();return o.defaults.headers.common["x-access-token"]=e,o.get("".concat(n.a._API_SERVER,"/api/process/process"))},b=function(){var e=r.a.getToken();return o.defaults.headers.common["x-access-token"]=e,o.get("".concat(n.a._API_SERVER,"/api/users/listAll"))},y=function(e){var t=r.a.getToken();return o.defaults.headers.common["x-access-token"]=t,o({method:"post",url:"".concat(n.a._API_SERVER,"/api/users/create"),data:e})},v=function(e){var t=r.a.getToken();return o.defaults.headers.common["x-access-token"]=t,o({method:"put",url:"".concat(n.a._API_SERVER,"/api/users/remove"),data:e})},O=function(e){var t=r.a.getToken();return o.defaults.headers.common["x-access-token"]=t,o({method:"put",url:"".concat(n.a._API_SERVER,"/api/users/update"),data:e})},j=function(){var e=r.a.getToken();return o.defaults.headers.common["x-access-token"]=e,o.get("".concat(n.a._API_SERVER,"/api/typeOfPermits/list"))},x=function(e){var t=r.a.getToken();return o.defaults.headers.common["x-access-token"]=t,o({method:"post",url:"".concat(n.a._API_SERVER,"/api/typeOfPermits/add"),data:e})},k=function(e){var t=r.a.getToken();return o.defaults.headers.common["x-access-token"]=t,o({method:"put",url:"".concat(n.a._API_SERVER,"/api/typeOfPermits/edit"),data:e})},S=function(e){var t=r.a.getToken();return o.defaults.headers.common["x-access-token"]=t,o({method:"put",url:"".concat(n.a._API_SERVER,"/api/typeOfPermits/remove"),data:e})},w=function(e){var t=r.a.getToken();return o.defaults.headers.common["x-access-token"]=t,o({method:"put",url:"".concat(n.a._API_SERVER,"/api/typeOfPermits/default"),data:e})},P=function(){var e=r.a.getToken();return o.defaults.headers.common["x-access-token"]=e,o.get("".concat(n.a._API_SERVER,"/api/configuration"))},I=function(e){var t=r.a.getToken();return o.defaults.headers.common["x-access-token"]=t,o({method:"put",url:"".concat(n.a._API_SERVER,"/api/email"),data:e})},T=function(e){var t=r.a.getToken();return o.defaults.headers.common["x-access-token"]=t,o({method:"put",url:"".concat(n.a._API_SERVER,"/api/paypal"),data:e})}},29:function(e,t,a){"use strict";t.a={_API_SERVER:"http://pgweb.pangeamt.com:3000",API_SERVER:"http://localhost:3000"}},356:function(e,t){},37:function(e,t,a){"use strict";var n=a(221),r=JSON.parse,o=JSON.stringify,c={clear:function(e){return localStorage&&localStorage.getItem(e)?localStorage.removeItem(e):sessionStorage&&sessionStorage.getItem(e)?sessionStorage.removeItem(e):null},clearAppStorage:function(){localStorage&&localStorage.clear(),sessionStorage&&sessionStorage.clear()},clearToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jwtToken";return c.clear(e)},clearUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"userInfo";return c.clear(e)},get:function(e){return localStorage&&localStorage.getItem(e)?r(localStorage.getItem(e))||null:sessionStorage&&sessionStorage.getItem(e)&&r(sessionStorage.getItem(e))||null},getToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jwtToken";return c.get(e)},getUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"userInfo";return c.get(e)},set:function(e,t,a){return Object(n.isEmpty)(e)?null:a&&localStorage?localStorage.setItem(t,o(e)):sessionStorage?sessionStorage.setItem(t,o(e)):null},setToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jwtToken";return c.set(e,a,t)},setUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"userInfo";return c.set(e,a,t)}};t.a=c},376:function(e){e.exports={app:{title:"Welcome to react-intl",intro:"To get started, edit <code>src/App.js</code> and save to reload."},signup:{success:"Registration completed successfully",error:{email:"The email is already in use",all:"There has been an error, please try later"}},signin:{success:"Signin completed successfully",error:{user:"The user has not been found",password:"The password is invalid",all:"There has been an error, please try later"}}}},387:function(e,t,a){e.exports=a(791)},405:function(e,t){},411:function(e,t){},512:function(e,t){},534:function(e,t,a){},586:function(e,t,a){},68:function(e,t,a){"use strict";a(221);var n={hasErrors:function(e){return Object.keys(e).some(function(t){return e[t]})},getBase64:function(e,t){var a=new FileReader;a.readAsDataURL(e);var n={fileName:e.name,fileType:e.type};a.onload=function(){n.file=a.result,t(null,n)},a.onerror=function(e){console.log("Error: ",e),t(e,null)}},checkFile:function(e){var t=e.name.substr(e.name.lastIndexOf(".")+1);return!!/(docx|xlsx|pptx|odt)$/gi.test(t)},getStatus:function(e){return(e=parseInt(e))<0?"Processing Error":3===e?"Waiting":5===e?"Waiting Quoting":6===e?"Quoting":7===e?"Quotes Ready":17===e?"Pending Accept/Reject":20===e?"Preprocessing":30===e?"Processing":40===e?"PostProcessing":100===e?"Finished":110===e||120===e?"Downloaded":"Waiting"},languages:{en:"English",es:"Spanish",el:"Greek",fa:"Persian",de:"Deutsch",nl:"Dutch",ja:"Japanese",pt:"Portuguese Brazil",pp:"Portuguese Portugal",sv:"Swedish",zh:"Chinese",fr:"French",it:"Italian",pl:"Polish",ru:"Russian",va:"Valencian",ar:"Arabic"},getStatusByText:function(e){return{processing_error:"Processing Error",waiting:"Waiting",waiting_quoting:"Waiting Quoting",quoting:"Quoting",quote_ready:"Quotes Ready",pending_accept_reject:"Pending Accept/Reject",preprocessing:"Pre processing",processing:"Processing",post_processing:"Post Processing",finished:"Finished",downloaded:"Downloaded"}[e]}};t.a=n},755:function(e,t,a){},757:function(e,t,a){"use strict";!function(e){e.FileDownload=function(e,a,n){return new Promise(function(r,o){var c="data:".concat(a,";base64,").concat(e);fetch(c).then(function(e){return e.blob()}).catch(function(e){return o(e)}).then(function(e){t(e,n),r()}).catch(function(e){return o(e)})})};var t=function(t,a){var n=document.createElement("a");n.href=e.URL.createObjectURL(t),n.download=a,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}(window)},784:function(e,t,a){},791:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchAuth",function(){return Fe}),a.d(n,"addNotifications",function(){return qe}),a.d(n,"changeNotifications",function(){return De}),a.d(n,"default",function(){return Ve});a(388);var r=a(377),o=a(0),c=a.n(o),i=a(9),l=a.n(i),s=a(74),u=a(800),d=a(795),m=a(82),p=a(277),f=a(378),g=a.n(f),h=a(81),E=a(357),b=a.n(E)()({loader:function(){return a.e(1).then(a.bind(null,797))},loading:function(){return null}}),y=a(24),v=a(25),O=a(27),j=a(26),x=a(28),k=(a(187),a(130)),S=(a(137),a(55)),w=a(16),P=a(58),I=a(17),T=a(129),C=a(177),A=a(178),_=(a(60),a(14)),R=(a(204),a(93)),N=(a(101),a(44)),F=(a(149),a(7)),q=(a(119),a(18)),D=a(41),V=(a(120),a(33)),L=a(794),U=a(798),M=a(22),z=a(37);a(534);function W(){var e=Object(w.a)(["\n  &.ant-form-inline .ant-form-item {\n    margin: 0 !important;\n  }\n"]);return W=function(){return e},e}var B=Object(I.a)(V.a.Item)(W()),K=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.handleReset=function(){a.props.form.resetFields()},a.success=function(e){var t=a.props,n=t.intl.messages,r=t.signIn,o=t.history,c=e.data.accessToken;q.a.success(n.signin.success),z.a.setToken(c,!0),r(e.data),Object(M.s)(c),a.handleReset(),o.push("/dashboard"),a.setState({loading:!1})},a.handleSubmit=function(e){var t=a.props.intl.messages,n=Object(D.a)(Object(D.a)(a));e.preventDefault(),a.props.form.validateFields(function(e,r){if(!e){var o={email:r.email,password:r.password};a.setState({loading:!0}),Object(M.v)(o).then(function(e){n.success(e)}).catch(function(n){try{404===n.response.status?q.a.error(t.signin.error.user):401===n.response.status?q.a.error(t.signin.error.password):q.a.error(t.signin.error.all),a.setState({loading:!1})}catch(e){console.log(e)}})}})},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.loading;return c.a.createElement("div",null,c.a.createElement("img",{style:{width:"100%"},alt:"logo",src:"/images/PangeaMTsmall.png"}),c.a.createElement(V.a,{onSubmit:this.handleSubmit,className:"login-form"},c.a.createElement(B,null,e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(c.a.createElement(N.a,{prefix:c.a.createElement(F.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),c.a.createElement(B,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(c.a.createElement(N.a,{prefix:c.a.createElement(F.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),c.a.createElement(B,null,e("remember",{valuePropName:"checked",initialValue:!0})(c.a.createElement(R.a,null,"Remember me")),c.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password"),c.a.createElement(_.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:t},t?"Send Data":"Sign me in"),"Or ",c.a.createElement(L.a,{to:"/signup"},"register now!"))))}}]),t}(o.Component),Q=V.a.create()(Object(h.b)(K)),H=Object(U.a)(Q),J=a(180),Y=a.n(J);function G(){var e=Object(w.a)(["\n  background: #e4edf2 !important;\n  border-color: #b4d8e4 !important;\n"]);return G=function(){return e},e}function $(){var e=Object(w.a)(["\n  background-image: url(",") !important;\n  background-size: cover !important;\n  background-position: center center !important;\n  min-height: 100vh !important;\n"]);return $=function(){return e},e}function X(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 100px;\n  width: 350px;\n  margin: 0 auto;\n  margin-top: 110px;\n"]);return X=function(){return e},e}var Z=I.a.div(X()),ee=Object(I.a)(S.a)($(),Y.a),te=Object(I.a)(k.a)(G()),ae=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).signIn=function(e){(0,a.props.authAct.fetchAuth)(e)},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.location;return c.a.createElement(ee,null,c.a.createElement(A.a,null),c.a.createElement(C.a,null,c.a.createElement(Z,null,c.a.createElement(te,{style:{width:"100%"}},c.a.createElement(H,{signIn:this.signIn,location:e})))))}}]),t}(o.Component);var ne=Object(s.c)(function(e){return{location:e.router.location}},function(e){return{authAct:Object(P.a)(T,e)}})(ae);a(586);function re(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center button {\n    width: 50%;\n  }\n"]);return re=function(){return e},e}var oe=V.a.Item,ce=I.a.div(re());var ie=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={plan:"annual",loading:!1},a._changePlan=function(e){a.setState({plan:e})},a.handleReset=function(){a.props.form.resetFields()},a.handleSubmit=function(e){var t=a.props.intl.messages;e.preventDefault(),a.props.form.validateFields(function(e,n){if(!e){var r={fullName:n.fullName,email:n.email,password:n.password};a.setState({loading:!0}),Object(M.w)(r).then(function(e){q.a.success(t.signup.success),a.setState({loading:!1}),a.handleReset()}).catch(function(e){400===e.response.status?q.a.error(t.signup.error.email):q.a.error(t.signup.error.all),a.setState({loading:!1})})}})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldsError,r=this.state.loading;return c.a.createElement("div",null,c.a.createElement("img",{style:{width:"100%"},alt:"logo",src:"/images/PangeaMTsmall.png"}),c.a.createElement(V.a,{onSubmit:this.handleSubmit,className:"login-form"},c.a.createElement(oe,{hasFeedback:!0},a("fullName",{rules:[{required:!0,message:"Please, fullName is required!"}]})(c.a.createElement(N.a,{placeholder:"FullName",type:"text"}))),c.a.createElement(oe,{hasFeedback:!0},a("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(c.a.createElement(N.a,{placeholder:"E-mail"}))),c.a.createElement(oe,{hasFeedback:!0},a("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(c.a.createElement(N.a,{placeholder:"Password",type:"password"}))),c.a.createElement(oe,{hasFeedback:!0},a("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(c.a.createElement(N.a,{type:"password",placeholder:"Confirm Password",onBlur:this.handleConfirmBlur}))),c.a.createElement(oe,null,c.a.createElement(ce,null,c.a.createElement(_.a,{type:"primary",htmlType:"submit",loading:r,className:"login-form-button",disabled:(e=n(),Object.keys(e).some(function(t){return e[t]}))},r?"Send Data":"Register"))),c.a.createElement(oe,null,c.a.createElement(ce,{style:{marginTop:-10}},"Or \xa0\xa0",c.a.createElement(L.a,{to:"/signin"},"log in now!")))))}}]),t}(o.Component),le=V.a.create()(Object(h.b)(ie));function se(){var e=Object(w.a)(["\n  background: #e4edf2 !important;\n  border-color: #b4d8e4 !important;\n"]);return se=function(){return e},e}function ue(){var e=Object(w.a)(["\n  background-image: url(",") !important;\n  background-size: cover !important;\n  background-position: center center !important;\n  min-height: 100vh !important;\n"]);return ue=function(){return e},e}function de(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 100px;\n  width: 350px;\n  margin: 0 auto;\n  margin-top: 70px;\n"]);return de=function(){return e},e}var me=I.a.div(de()),pe=Object(I.a)(S.a)(ue(),Y.a),fe=Object(I.a)(k.a)(se()),ge=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.location;return c.a.createElement(pe,null,c.a.createElement(A.a,null),c.a.createElement(C.a,null,c.a.createElement(me,null,c.a.createElement(fe,{style:{width:"100%"}},c.a.createElement(le,{location:e})))))}}]),t}(o.Component);var he,Ee=Object(s.c)(function(e){return{location:e.router.location}})(ge),be=(a(314),a(114)),ye=(a(315),a(115)),ve=(a(316),a(38)),Oe=a(30),je=a.n(Oe),xe=(a(598),a(375)),ke=a(47),Se=(a(317),a(279)),we=(a(318),a(273)),Pe=a(799),Ie=a(796),Te=a(68),Ce=a(181),Ae=a(59),_e=a(366),Re=a(54),Ne=a(605),Fe=Object(Re.createAction)("fetch auth",function(e){return{auth:e.auth,accessToken:e.accessToken}}),qe=Object(Re.createAction)("add  notifications",function(e){return{notifications:e}}),De=Object(Re.createAction)("change  notifications",function(e){return{notifications:e}}),Ve=Object(Re.createReducer)((he={},Object(Ae.a)(he,De,function(e,t){var a=t.notifications;return Object.assign({},e,{notifications:a})}),Object(Ae.a)(he,qe,function(e,t){var a=t.notifications;return a=Ne.concat(e.notifications,a),Object(_e.a)({},e,{notifications:a})}),he),{notifications:[]}),Le=a(179),Ue=a.n(Le),Me=a(29),ze=(a(99),a(15)),We=(a(340),a(116)),Be=(a(342),a(148)),Ke=(a(100),a(12)),Qe=(a(145),a(56)),He=a(118),Je=[{genre:"ENES_DeepL",count:275,income:2300},{genre:"ENDE_Generic",count:115,income:667},{genre:"SUMEN_LegalJRC_01",count:120,income:982},{genre:"ENNL_generic",count:350,income:5271},{genre:"ESFR_generic",count:150,income:3710}],Ye={sold:{alias:"\u9500\u552e\u91cf"},genre:{alias:"\u6e38\u620f\u79cd\u7c7b"}},Ge=[{name:"Ernesto M"},{name:"Jhon Doe"},{name:"Lissa Martin"},{name:"Robert Crespo"}],$e=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.authState;return console.log("authState",e),c.a.createElement("div",null,c.a.createElement(Qe.a,{style:{margin:"16px 0"}},c.a.createElement(Qe.a.Item,null,"Dashboard")),c.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},c.a.createElement(ze.a,{type:"flex",justify:"center",gutter:16},c.a.createElement(Ke.a,{span:12},c.a.createElement(He.Chart,{width:600,height:400,data:Je,scale:Ye},c.a.createElement(He.Axis,{name:"genre"}),c.a.createElement(He.Axis,{name:"count"}),c.a.createElement(He.Legend,{position:"top",dy:-20}),c.a.createElement(He.Tooltip,null),c.a.createElement(He.Geom,{type:"interval",position:"genre*count",color:"genre"}))),c.a.createElement(Ke.a,{span:12},c.a.createElement(ze.a,null,c.a.createElement(Ke.a,{span:6,style:{display:"flex",justifyContent:"center"}},c.a.createElement(Be.a,{title:"Active Users",value:11})),c.a.createElement(Ke.a,{span:6,style:{display:"flex",justifyContent:"center"}},c.a.createElement(Be.a,{title:"Processes",value:34,precision:2})),c.a.createElement(Ke.a,{span:12},c.a.createElement("p",null,"Last Users"),c.a.createElement(We.a,{bordered:!0,itemLayout:"horizontal",dataSource:Ge,renderItem:function(e){return c.a.createElement(We.a.Item,{size:"small"},c.a.createElement(We.a.Item.Meta,{avatar:c.a.createElement(we.a,null,e.name[0]),title:c.a.createElement("span",{href:"#"},e.name)}))}})))))))}}]),t}(o.Component),Xe=Object(U.a)($e),Ze=(a(312),a(135)),et=a(353),tt=(a(303),a(113)),at=(a(304),a(112)),nt=(a(282),a(87)),rt=(a(382),a(308)),ot=(a(151),a(66)),ct=(a(281),a(52)),it=(a(383),a(352)),lt=a(345),st=a.n(lt);a(755);function ut(){var e=Object(w.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n"]);return ut=function(){return e},e}function dt(){var e=Object(w.a)(["\n  padding: 0 15px !important;\n"]);return dt=function(){return e},e}function mt(){var e=Object(w.a)(["\n  width: 200px;\n  height: 200px;\n"]);return mt=function(){return e},e}function pt(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n"]);return pt=function(){return e},e}function ft(){var e=Object(w.a)(["\n  h2,\n  p {\n    text-align: center;\n  }\n"]);return ft=function(){return e},e}function gt(){var e=Object(w.a)(["\n  // text-transform: uppercase;\n  // text-decoration: underline;\n"]);return gt=function(){return e},e}function ht(){var e=Object(w.a)(["\n  width: 100%;\n  height: 170px;\n  margin-top: 25px;\n  ",";\n"]);return ht=function(){return e},e}function Et(){var e=Object(w.a)(["\n  .ant-badge-count {\n    top: -5px;\n    right: -10px;\n  }\n"]);return Et=function(){return e},e}function bt(){var e=Object(w.a)(["\n  margin: 5px;\n"]);return bt=function(){return e},e}function yt(){var e=Object(w.a)(["\n  float: right;\n  margin: 0 0 15px 0;\n"]);return yt=function(){return e},e}function vt(){var e=Object(w.a)(["\n  margin-bottom: 5px !important;\n  & {\n    .ant-form-item-label {\n      line-height: 20px;\n    }\n    .ant-form-explain {\n      color: rgb(24, 144, 255);\n    }\n  }\n"]);return vt=function(){return e},e}var Ot=it.a.Dragger,jt=V.a.Item,xt=ct.a.Option,kt=ot.a.TabPane;a(757);var St=Object(I.a)(jt)(vt()),wt=Object(I.a)(_.a)(yt()),Pt=Object(I.a)(_.a)(bt()),It=Object(I.a)(Se.a)(Et()),Tt=I.a.div(ht(),function(e){return e.error?"  border: 2px dashed #ea2020":null}),Ct=I.a.span(gt()),At=I.a.div(ft()),_t=I.a.div(pt()),Rt=Object(I.a)(st.a)(mt()),Nt=Object(I.a)(Ke.a)(dt()),Ft=I.a.div(ut()),qt=function(){return c.a.createElement(ze.a,{justify:"center",type:"flex"},c.a.createElement(Ke.a,null,c.a.createElement(Ft,null,c.a.createElement(Rt,{src:"/images/undraw_confirmation_2uy0.svg",loading:function(){return c.a.createElement("div",null,"Loading...")},error:function(){return c.a.createElement("div",null,"Error")}})),c.a.createElement("h2",{style:{textAlign:"center"}}," You\u2019re done!"),c.a.createElement("p",{style:{textAlign:"center"}},"Soon you will receive a notification to the mail to notify the completion of the process."),c.a.createElement(rt.a,null)))},Dt=function(){return c.a.createElement("div",null,c.a.createElement(Ft,null,c.a.createElement(Rt,{src:"/images/undraw_bug_fixing_oc7a.svg",loading:function(){return c.a.createElement("div",null,"Loading...")},error:function(){return c.a.createElement("div",null,"Error")}})),c.a.createElement("h2",null," Hmm, something went wrong"),c.a.createElement("p",null,"so it looks like your transfer didn't work please give it another go"),c.a.createElement(rt.a,null))},Vt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={view:"list",fileList:[],uploading:!1,processEnd:!1,showError:!1,source:null,target:null,visible:!1,viewNoty:"process",value:void 0,_input:null,processData:[],loading:!1,loadingPay:!1,nameEng:null,processSelected:null,quote:null,payResponse:null},a.componentWillReceiveProps=function(e){a.props.count<e.count&&a.getProcess()},a.initStateView=function(e){a.setState({view:e,fileList:[],uploading:!1,processEnd:!1,showError:!1,source:null,target:null,visible:!1,viewNoty:"process",value:void 0,_input:null,loading:!1,nameEng:null,processSelected:null,quote:null})},a.componentDidMount=function(){a.getProcess()},a.changeView=function(e){"list"===e&&a.getProcess(),a.setState({view:e})},a.handleSubmit=function(e){e.preventDefault();var t=Object(D.a)(Object(D.a)(a)),n=a.state,r=n.fileList,o=n.target,c=a.props,i=c.typeOfUser,l=c.changeFileID,s=c.process.selected,u=a.getTargets().filter(function(e){if(e&&e.key===o)return e})[0];u?a.setState({target:o,nameEng:u}):alert("error"),t.setState({showError:!1,viewNoty:"process"}),a.props.form.validateFields(function(e,n){e||(a.state.fileList.length?Te.a.getBase64(r[0],function(e,a){if(!e){var r=n.target.split("-"),o={process:{id:r[0],name:s.name},engine:u,source:{id:r[0],name:s.name},file:a};t.setState({uploading:!0}),2===i||3===i?Object(M.o)(o).then(function(e){q.a.success("This is a message of success"),t.setState({uploading:!1,viewNoty:"success",fileList:[]}),l(e.data.fileId)}).catch(function(e){console.log(e),q.a.error(e.message),t.setState({uploading:!1,viewNoty:"error"})}):Object(M.m)(o).then(function(e){q.a.success("This is a message of success"),t.setState({uploading:!1,viewNoty:"success",fileList:[]}),l(e.data.fileId)}).catch(function(e){console.log(e),q.a.error(e.message),t.setState({uploading:!1,viewNoty:"error"})})}}):t.setState({showError:!0}))})},a.handleChange=function(e){var t=a.props,n=t.selectProcess;t.process.engines.forEach(function(t){t.id.toString()===e&&n(t)}),a.setState({value:e})},a.changeSource=function(e){a.setState({source:e})},a.changeTarget=function(e){a.setState({target:e})},a.getSources=function(){var e=a.props.process.selected.engines,t=[];return e.forEach(function(e){for(var a=!1,n=0;n<t.length;n++)if(t[n].key===e.source){a=!0;break}if(!a){var r=e.source;t.push({key:r,name:Te.a.languages[r]})}}),t},a.getProcess=function(){var e=Object(D.a)(Object(D.a)(a));e.setState({loading:!0}),Object(M.h)().then(function(t){e.setState({processData:t.data.process,loading:!1})}).catch(function(t){q.a.error(t.message),e.setState({loading:!1})})},a.getTargets=function(){var e=a.state.source,t=a.props.process.selected.engines,n=[];return t.forEach(function(t){for(var a=!1,r=0;r<n.length;r++)if(n[r].key===t.target){a=!0;break}e&&(a||t.source!==e||(t.domain?(t.key="".concat(t.id,"-").concat(t.target),t.text="".concat(Te.a.languages[t.target]," - ").concat(t.name," - ").concat(t.domain)):(t.key="".concat(t.id,"-").concat(t.target),t.text="".concat(Te.a.languages[t.target]," - ").concat(t.name)),n.push(t)))}),n},a.showModal=function(e){a.setState({visible:!0,processSelected:e})},a.hideModal=function(){a.setState({visible:!1,payResponse:null})},a.download=function(e){console.log(e);var t=e.fileDownload.file,a=e.fileDownload.fileType,n=e.fileDownload.filename;window.FileDownload(t,a,n).then(function(){return console.log("download successful.")}).catch(function(e){return console.error("download error: ",e)})},a.pay=function(){var e=Object(ke.a)(je.a.mark(function e(t,n){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loadingPay:!0,quote:n}),e.prev=1,e.next=4,Object(M.n)({fileId:t,quote:n});case 4:e.sent,a.setState({loadingPay:!1,payResponse:"success"}),a.getProcess(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),a.setState({loadingPay:!1,payResponse:"error"}),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t,a){return e.apply(this,arguments)}}(),a.renderList=function(){var e=a.state,t=e.processData,n=e.loading,r=e.processSelected,o=e.loadingPay,i=e.quote,l=e.payResponse,s=[{title:"FileName",dataIndex:"fileName",key:"fileName",sorter:function(e,t){return e.fileName-t.fileName}},{title:"Process Name",dataIndex:"processName",key:"processName",render:function(e,t){return c.a.createElement("span",{style:{textTransform:"capitalize"}},t.processName)}},{title:"Language ",key:"language",render:function(e,t){return c.a.createElement("span",{style:{textTransform:"capitalize"}},c.a.createElement(ye.a,{style:{cursor:"default"},color:"#108ee9"},t.engineSource)," ",c.a.createElement(F.a,{type:"arrow-right"})," ",c.a.createElement(ye.a,{style:{cursor:"default"},color:"#ff3f1b"},t.engineTarget))}},{title:"Status",dataIndex:"status",key:"status",render:function(e){return c.a.createElement(Ct,null,Te.a.getStatusByText(e))},filters:[{text:"Waiting",value:"waiting"},{text:"Waiting Quoting",value:"waiting_quoting"},{text:"Quotes Ready",value:"quotes_ready"},{text:"Pending Accept/Reject",value:"pending_accept_reject"},{text:"Preprocessing",value:"preprocessing"},{text:"Processing",value:"processing"},{text:"PostProcessing",value:"postProcessing"}],onFilter:function(e,t){return t.status===e}},{title:"Action",key:"action",render:function(e,t){return c.a.createElement("span",null,c.a.createElement(nt.a,{placement:"top",title:"See Quotes"},c.a.createElement(Pt,{onClick:function(){a.showModal(t)},disabled:"quote_ready"!==t.status,size:"small",type:"primary",shape:"circle",icon:"wallet"})))}}],u=[{title:"FileName",dataIndex:"fileName",key:"fileName",sorter:function(e,t){return e.fileName-t.fileName}},{title:"Process Name",dataIndex:"processName",key:"processName",render:function(e,t){return c.a.createElement("span",{style:{textTransform:"capitalize"}},t.processName)}},{title:"Language ",key:"language",render:function(e,t){return c.a.createElement("span",{style:{textTransform:"capitalize"}},c.a.createElement(ye.a,{color:"#108ee9"},t.engineSource)," ",c.a.createElement(F.a,{type:"arrow-right"})," ",c.a.createElement(ye.a,{color:"#ff3f1b"},t.engineTarget))}},{title:"Status",dataIndex:"status",key:"status",render:function(e){return c.a.createElement(Ct,null,Te.a.getStatusByText(e))}},{title:"Action",key:"action",render:function(e,t){return c.a.createElement("span",null,c.a.createElement(nt.a,{placement:"top",title:"Download"},c.a.createElement(Pt,{onClick:function(){a.download(t)},disabled:t.status<=100,size:"small",type:"primary",shape:"circle",icon:"download"})))}}],d=[],m=[];t&&t.length&&(d=t.filter(function(e){return"downloaded"===e.status}),m=t.filter(function(e){return"downloaded"!==e.status}));var p=c.a.createElement(wt,{type:"primary",icon:"file-add",onClick:function(){a.changeView("process")}},"New Process");return c.a.createElement("div",null,c.a.createElement(ze.a,null,c.a.createElement(Ke.a,null,c.a.createElement(ot.a,{defaultActiveKey:"1",tabBarExtraContent:p},c.a.createElement(kt,{tab:c.a.createElement(It,{count:m.length},c.a.createElement("span",null,"In Process")),key:"1"},c.a.createElement(at.a,{size:"small",loading:n,columns:s,dataSource:m})),c.a.createElement(kt,{tab:c.a.createElement(It,{count:d.length},c.a.createElement("span",null,"Finished")),key:"2"},c.a.createElement(at.a,{size:"small",loading:n,columns:u,dataSource:d}))))),c.a.createElement(tt.a,{title:"Quotes",width:600,visible:a.state.visible,onCancel:a.hideModal,footer:null},"success"!==l&&"error"!==l?c.a.createElement(ze.a,{justify:"center",type:"flex"},r&&r.quotes?r.quotes.map(function(e){return c.a.createElement(Ke.a,{key:e.optionid,xs:24,md:8},c.a.createElement(ze.a,{justify:"center",type:"flex",align:"middle"},c.a.createElement(Ke.a,{style:{textAlign:"center",minHeight:45}},c.a.createElement(Be.a,{title:e.option,value:e.price,precision:4}),c.a.createElement(_.a,{loading:o&&i.optionid===e.optionid,onClick:function(){a.pay(r.fileId,e)},style:{marginTop:16},type:"primary"},"Pay"))))}):null):null,"success"===l?c.a.createElement(qt,null):null,"error"===l?c.a.createElement(qt,null):null))},a.renderProcess=function(){var e=a.props,t=e.process,n=e.form,r=n.getFieldDecorator,o=n.getFieldsError,i=a.state,l=i.fileList,s=i.uploading,u=i.processEnd,d=i.showError,m=i.source,p=i.viewNoty,f=i.target,g={onRemove:function(e){u||a.setState(function(t){var a=t.fileList.indexOf(e),n=t.fileList.slice();return n.splice(a,1),{fileList:n}})},beforeUpload:function(e){var t=e.size/1024/1024<2;return Te.a.checkFile(e)?t?a.setState(function(t){return{fileList:Object(et.a)(t.fileList).concat([e])}}):q.a.error("Image must smaller than 2MB!"):q.a.error("You can only upload (docx|xlsx|pptx|odt) file!"),!1},disabled:l.length,multiple:!1,fileList:l},h=a.getTargets();if(console.log(h),"process"===p){var E=t.engines.map(function(e){return c.a.createElement(xt,{key:e.id},e.name.replace(/^\w/,function(e){return e.toUpperCase()}))});return c.a.createElement("div",null,c.a.createElement(ze.a,null,c.a.createElement(Ke.a,null,c.a.createElement(wt,{type:"primary",icon:"rollback",onClick:function(){a.changeView("list")}},"List Process"))),c.a.createElement(ze.a,null,c.a.createElement(Ke.a,null,c.a.createElement(V.a,{onSubmit:a.handleSubmit},c.a.createElement(ze.a,{type:"flex",justify:"center"},c.a.createElement(Nt,{xs:24,md:12},c.a.createElement(ze.a,null,c.a.createElement(Ke.a,{xs:24},c.a.createElement(St,null,c.a.createElement(Tt,{error:d&&!l.length},c.a.createElement(Ot,g,c.a.createElement("p",{className:"ant-upload-drag-icon"},c.a.createElement(F.a,{type:"inbox"})),c.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload")),d&&!l.length?c.a.createElement(Ze.a,{style:{margin:5},message:"You must upload a file before continuing!!",type:"error",showIcon:!0}):null))))),c.a.createElement(Nt,{xs:24,md:12},c.a.createElement(ze.a,{type:"flex",justify:"center",align:"middle"},c.a.createElement(Ke.a,{xs:24},c.a.createElement(St,{label:"Process type",hasFeedback:!0},r("process",{disabled:null===m||u,rules:[{required:!0,message:"Please select your Process!"}]})(c.a.createElement(ct.a,{autofocus:"true",ref:function(e){return a.state._input=e},onChange:a.handleChange},E))),c.a.createElement(St,{label:"Source Language",hasFeedback:!0},r("source",{disabled:u,rules:[{required:!0,message:"Please select your Language of origin!"}]})(c.a.createElement(ct.a,{disabled:!a.getSources().length,onChange:a.changeSource},a.getSources().map(function(e){return c.a.createElement(xt,{value:e.key},e.name)})))),c.a.createElement(St,{label:"Target Language",hasFeedback:!0},r("target",{disabled:null===m||u,rules:[{required:!0,message:"Please select your Exit language!"}]})(c.a.createElement(ct.a,{onChange:a.changeTarget,disabled:null===m||u},h.map(function(e){return c.a.createElement(xt,{value:e.key},e.text)})))))))),c.a.createElement(ze.a,null,c.a.createElement(Ke.a,{xs:24},c.a.createElement(St,{style:{display:"flex",justifyContent:"center"}},u?null:c.a.createElement(_.a,{icon:"file",type:"primary",htmlType:"submit",size:"large",loading:s,disabled:!a.getSources().length||!f||!m||Te.a.hasErrors(o())},s?"Uploading":"Start Upload"))))))))}return"error"===p?c.a.createElement("div",null,c.a.createElement(ze.a,null,c.a.createElement(Ke.a,null,c.a.createElement(wt,{type:"primary",icon:"rollback",onClick:function(){a.changeView("list")}},"List Process"))),c.a.createElement(ze.a,null,c.a.createElement(Ke.a,null,c.a.createElement(At,null,c.a.createElement(Dt,null),c.a.createElement(_t,null,c.a.createElement(_.a,{onClick:function(){a.initStateView("process")},type:"primary",size:"large"},"Try Again")))))):"success"===p?c.a.createElement("div",null,c.a.createElement(ze.a,null,c.a.createElement(Ke.a,null,c.a.createElement(wt,{type:"primary",icon:"rollback",onClick:function(){a.initStateView("list")}},"List Process"))),c.a.createElement(ze.a,null,c.a.createElement(Ke.a,null,c.a.createElement(At,null,c.a.createElement(qt,null),c.a.createElement(_t,null,c.a.createElement(_.a,{onClick:function(){a.initStateView("process")},type:"primary",size:"large"},"Send another?")))))):void 0},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state.view;return c.a.createElement("div",null,c.a.createElement(Qe.a,{style:{margin:"16px 0"}},c.a.createElement(Qe.a.Item,null,"Process / Services")),c.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},"list"===e?this.renderList():this.renderProcess()))}}]),t}(o.Component),Lt=V.a.create()(Vt),Ut=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(Qe.a,{style:{margin:"16px 0"}},c.a.createElement(Qe.a.Item,null,"ProfileCmp")),c.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},"ProfileCmp"))}}]),t}(o.Component),Mt=(a(305),a(53)),zt=(a(176),a(92)),Wt=(a(774),a(373)),Bt=(a(354),a(275)),Kt=(a(779),a(311));function Qt(){var e=Object(w.a)(["\n  padding: 0 15px !important;\n"]);return Qt=function(){return e},e}function Ht(){var e=Object(w.a)(["\n  margin: 5px;\n"]);return Ht=function(){return e},e}function Jt(){var e=Object(w.a)(["\n  .ant-form-item-required {\n    float: left;\n    margin-bottom: -10px;\n  }\n"]);return Jt=function(){return e},e}function Yt(){var e=Object(w.a)(["\n  background-color: #87d068 !important;\n  color: #ffffff !important;\n  cursor: default !important;\n"]);return Yt=function(){return e},e}function Gt(){var e=Object(w.a)(["\n  float: right;\n  margin-bottom: 15px;\n"]);return Gt=function(){return e},e}var $t=Kt.a.TreeNode,Xt=Object(I.a)(_.a)(Gt()),Zt=Object(I.a)(_.a)(Yt()),ea=Object(I.a)(V.a.Item)(Jt()),ta=Object(I.a)(_.a)(Ht()),aa=Object(I.a)(Ke.a)(Qt()),na=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={process:[],loading:!1,visible:!1,expandedKeys:[],autoExpandParent:!0,checkedKeys:[],arrayTypeOfPermits:[],typeSelected:{id:null,name:"",typeOfProcesses:[]}},a.componentWillMount=function(){a.getProcesses(),a.getTypeOfProcesses()},a.getProcesses=Object(ke.a)(je.a.mark(function e(){var t;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(M.f)();case 3:t=e.sent,a.setState({process:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])})),a.getTypeOfProcesses=Object(ke.a)(je.a.mark(function e(){var t;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:!0}),e.next=4,Object(M.l)();case 4:t=e.sent,a.setState({arrayTypeOfPermits:t.data,loading:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),a.setState({loading:!1}),q.a.error(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[0,8]])})),a.onCheck=function(e){console.log("onCheck",e),a.setState({checkedKeys:e})},a.renderTreeNodes=function(e){return e.map(function(e){return c.a.createElement($t,{title:e.name,key:e.id,dataRef:e},e.engines?a.renderTreeNodes(e.engines):null)})},a.onExpand=function(e){console.log("onExpand",e),a.setState({expandedKeys:e,autoExpandParent:!1})},a.showModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?a.setState({visible:!0,typeSelected:e,checkedKeys:e.typeOfProcesses}):a.setState({visible:!0})},a.hideModal=function(){a.setState({visible:!1})},a.handleSubmit=function(e){var t=Object(D.a)(Object(D.a)(a));e.preventDefault(),a.props.form.validateFields(function(e,a){if(!e)if(t.setState({loading:!0}),t.state.typeSelected.name){var n={id:t.state.typeSelected.id,name:a.name,typeOfProcesses:t.state.checkedKeys};Object(M.d)(n).then(function(e){q.a.success("Action successfully."),t.setState({loading:!1,visible:!1}),t.getTypeOfProcesses()}).catch(function(e){q.a.error(e.message),t.setState({loading:!1,visible:!1})})}else{var r={name:a.name,typeOfProcesses:t.state.checkedKeys};Object(M.a)(r).then(function(e){q.a.success("Action successfully."),t.setState({loading:!1,visible:!1}),t.getTypeOfProcesses()}).catch(function(e){q.a.error(e.message),t.setState({loading:!1,visible:!1})})}})},a.confirm=function(){var e=Object(ke.a)(je.a.mark(function e(t){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(M.p)({id:t});case 3:a.getTypeOfProcesses(),q.a.success("Action successfully."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),q.a.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a.setDefault=function(){var e=Object(ke.a)(je.a.mark(function e(t){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:!0}),e.next=4,Object(M.c)({id:t});case 4:a.getTypeOfProcesses(),q.a.success("Action successfully."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),q.a.error(e.t0.message);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),a.renderList=function(){var e=a.state,t=e.loading,n=e.arrayTypeOfPermits,r=[{title:"Name",dataIndex:"name",key:"name",sorter:function(e,t){return e.name-t.name}},{title:"Default",dataIndex:"default",key:"default",render:function(e,n){return c.a.createElement("span",null,n.default?c.a.createElement(Zt,{size:"small",shape:"circle",icon:"check",loading:t}):null,n.default?null:c.a.createElement(_.a,{onClick:function(){a.setDefault(n.id)},type:"danger",size:"small",shape:"circle",loading:t}))}},{title:"Action",key:"action",fixed:"right",width:200,render:function(e,t){return c.a.createElement("span",null,c.a.createElement(ta,{onClick:function(){a.showModal(t)},disabled:t.status<=100,size:"small",type:"primary",shape:"circle",icon:"edit"}),c.a.createElement(Bt.a,{onConfirm:function(){a.confirm(t.id)},title:"Are you sure delete this Type of Permits?",okText:"Yes",cancelText:"No"},c.a.createElement(ta,{size:"small",type:"danger",shape:"circle",icon:"delete"})))}}];return c.a.createElement(ze.a,null,c.a.createElement(Ke.a,null,c.a.createElement(ze.a,null,c.a.createElement(Ke.a,null,c.a.createElement(Xt,{onClick:function(){a.showModal()},type:"primary",icon:"plus-circle"},"Add permission type"))),c.a.createElement(ze.a,null,c.a.createElement(Ke.a,null,c.a.createElement(at.a,{size:"small",loading:t,columns:r,dataSource:n})))))},a.renderForm=function(){var e=a.props.form.getFieldDecorator;return c.a.createElement(ze.a,null,c.a.createElement(Ke.a,null,c.a.createElement(ze.a,null,c.a.createElement(V.a,Object.assign({},{labelCol:{xs:{span:24}},wrapperCol:{xs:{span:24}}},{onSubmit:a.handleSubmit}),c.a.createElement(ze.a,{type:"flex",justify:"center"},c.a.createElement(aa,{xs:24,md:12},c.a.createElement(ze.a,{type:"flex",justify:"center",align:"middle"},c.a.createElement(Ke.a,{xs:24},c.a.createElement(ea,{label:"Name"},e("name",{initialValue:a.state.typeSelected.name,rules:[{required:!0,message:"Please input name field!"}]})(c.a.createElement(N.a,null)))))),c.a.createElement(aa,{xs:24,md:12,style:{maxHeight:300,overflow:"auto"}},c.a.createElement(ze.a,{type:"flex",justify:"center",align:"middle"},c.a.createElement(Ke.a,{xs:24},c.a.createElement(Kt.a,{checkable:!0,onExpand:a.onExpand,expandedKeys:a.state.expandedKeys,autoExpandParent:a.state.autoExpandParent,onCheck:a.onCheck,checkedKeys:a.state.checkedKeys},a.renderTreeNodes(a.state.process))))))))))},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,a=e.typeSelected;return c.a.createElement("div",null,c.a.createElement("div",{style:{padding:"0 0px",background:"#fff",minHeight:360}},this.renderList()),c.a.createElement(tt.a,{width:620,title:a.id?"Edit permission type":"Create permission type",visible:this.state.visible,onOk:this.hideModal,onCancel:this.hideModal,footer:[c.a.createElement(_.a,{key:"back",onClick:this.hideModal},"Cancel"),c.a.createElement(_.a,{key:"submit",type:"primary",loading:t,onClick:this.handleSubmit},a.id?"Save":"Create")]},this.renderForm()))}}]),t}(o.Component),ra=V.a.create()(Object(h.b)(na)),oa=Object(U.a)(ra),ca=ot.a.TabPane;function ia(e){console.log(e)}var la=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={email_notification:[],mode:"sandbox",client_id:"",client_secret:"",loading:!1,loadingPaypal:!1},a.componentWillMount=function(){a._getConfiguration()},a.onChange=function(e){var t=a.state.email_notification.map(function(t){return t.name===e&&(t.value=!t.value),t});a._setEmailNotification({email_notification:t}),a.setState({email_notification:t})},a.handleSubmit=function(e){e.preventDefault();var t=Object(D.a)(Object(D.a)(a));a.props.form.validateFieldsAndScroll(function(e,a){e||(t.setState({loadingPaypal:!0}),Object(M.u)(a).then(function(){q.a.success("This is a message of success"),t.setState({loadingPaypal:!1})}).catch(function(e){q.a.error(e.message),t.setState({loadingPaypal:!1})}))})},a._getConfiguration=Object(ke.a)(je.a.mark(function e(){var t,n,r,o,c;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:!0}),e.next=4,Object(M.g)();case 4:(c=e.sent)&&c.data&&c.data.configuration?(t=c.data.configuration.email_notification,n=c.data.configuration.mode,r=c.data.configuration.client_id,o=c.data.configuration.client_secret):(t=[{name:"Waiting Quoting",value:!1},{name:"Quoting",value:!1},{name:"Quote Ready",value:!0},{name:"Pending Accept/Reject",value:!1},{name:"Preprocessing",value:!1},{name:"PostProcessing",value:!1},{name:"Finished",value:!0},{name:"Downloaded",value:!0}],n="sandbox",r="",o=""),a.setState({email_notification:t,mode:n,client_id:r,client_secret:o,loading:!1}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,this,[[0,9]])})),a._setEmailNotification=function(){var e=Object(ke.a)(je.a.mark(function e(t){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(M.t)(t);case 3:q.a.success("This is a message of success"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),q.a.error(e.t0.message);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return c.a.createElement("div",null,c.a.createElement(Qe.a,{style:{margin:"16px 0"}},c.a.createElement(Qe.a.Item,null,"Process / Services")),c.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},c.a.createElement(ot.a,{defaultActiveKey:"1",onChange:ia},c.a.createElement(ca,{tab:"Mail Notifications",key:"1"},c.a.createElement(ze.a,null,c.a.createElement(Ke.a,{xs:24,md:16,style:{padding:"0 10px"}},c.a.createElement(zt.a,{tip:"Loading...",spinning:this.state.loading},c.a.createElement(We.a,{size:"small",bordered:!0,dataSource:this.state.email_notification,renderItem:function(t){return c.a.createElement(We.a.Item,null,t.name,c.a.createElement(Wt.a,{style:{float:"right"},checked:t.value,onChange:function(){e.onChange(t.name)}}))}}))),c.a.createElement(Ke.a,{xs:24,md:8},c.a.createElement(Ze.a,{message:"Informational Notes",description:"Manage notifications through the email, select which notification activate.",type:"info",showIcon:!0})))),c.a.createElement(ca,{tab:"Paypal",key:"2"},c.a.createElement(ze.a,null,c.a.createElement(Ke.a,{xs:24,md:16,style:{padding:"0 10px"}},c.a.createElement(V.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:14}}},{onSubmit:this.handleSubmit}),c.a.createElement(V.a.Item,{label:"Mode"},t("mode",{initialValue:this.state.mode})(c.a.createElement(Mt.a.Group,null,c.a.createElement(Mt.a,{value:"sandbox"},"Sandbox"),c.a.createElement(Mt.a,{value:"live"},"Live")))),c.a.createElement(V.a.Item,{hasFeedback:!0,label:"Client Id"},t("client_id",{initialValue:this.state.client_id,rules:[{required:!0,message:"Please input your Client Id!"}]})(c.a.createElement(N.a,{type:"text"}))),c.a.createElement(V.a.Item,{hasFeedback:!0,label:"Client Secret"},t("client_secret",{initialValue:this.state.client_secret,rules:[{required:!0,message:"Please confirm your Client Secret!"}]})(c.a.createElement(N.a,{type:"text"}))),c.a.createElement(V.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},c.a.createElement(_.a,{loading:this.state.loadingPaypal,type:"primary",htmlType:"submit"},"Save")))),c.a.createElement(Ke.a,{xs:24,md:8},c.a.createElement(Ze.a,{message:"Informational Notes",description:"Data of the PayPal account with which transactions are made.",type:"info",showIcon:!0})))),c.a.createElement(ca,{tab:"Type of permits",key:"3"},c.a.createElement(ze.a,null,c.a.createElement(Ke.a,{xs:24,md:16,style:{padding:"0 10px"}},c.a.createElement(oa,{user:this.props.user})),c.a.createElement(Ke.a,{xs:24,md:8},c.a.createElement(Ze.a,{message:"Informational Notes",description:"Management of different groups (Motors / Processes) that are assigned to different users.",type:"info",showIcon:!0})))))))}}]),t}(o.Component),sa=V.a.create()(la);function ua(){var e=Object(w.a)(["\n  margin: 5px;\n"]);return ua=function(){return e},e}var da=ot.a.TabPane,ma=V.a.Item,pa=ct.a.Option,fa=Mt.a.Group,ga=Object(I.a)(_.a)(ua()),ha=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={users:[],typeOfPermits:[],defaultTypeOfPermits:null,user:{fullName:"",rol:"user",email:"",typeOfUser:3},loading:!1,sendLoading:!1,visible:!1,visibleEdit:!1,mode:"add"},a.componentWillMount=function(){a.getUsers(),a.getTypeOfPermits()},a.handleReset=function(){a.props.form.resetFields()},a.showModal=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=a.props.userLogin;"edit"===e?a.setState({visibleEdit:!0,mode:e,user:t,defaultTypeOfPermits:t.TypeOfPermit?t.TypeOfPermit.id:null}):"client"===n.rol?a.setState({visible:!0,mode:e,user:{fullName:"",rol:"user",email:"",typeOfUser:n.typeOfUser},defaultTypeOfPermits:n.TypeOfPermit?n.TypeOfPermit.id:null}):a.setState({visible:!0,mode:e,user:{fullName:"",rol:"user",email:"",typeOfUser:3}})},a.hideModal=function(){var e=Object(D.a)(Object(D.a)(a));a.setState({visible:!1,visibleEdit:!1}),a.handleReset(),setTimeout(function(){e.setState({mode:"add"})},1e3)},a.getUsers=Object(ke.a)(je.a.mark(function e(){var t;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:!0}),e.next=4,Object(M.k)();case 4:t=e.sent,a.setState({users:t.data.users,loading:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),q.a.error(e.t0.message),a.setState({loading:!1});case 12:case"end":return e.stop()}},e,this,[[0,8]])})),a.getTypeOfPermits=Object(ke.a)(je.a.mark(function e(){var t,n,r;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:!0}),e.next=4,Object(M.l)();case 4:if(t=e.sent,n=null,"client"===a.props.userLogin.rol){e.next=18;break}r=0;case 8:if(!(r<t.data.length)){e.next=15;break}if(!t.data[r].default){e.next=12;break}return n=t.data[r].id,e.abrupt("break",15);case 12:r++,e.next=8;break;case 15:a.setState({typeOfPermits:t.data,defaultTypeOfPermits:n,loading:!1}),e.next=19;break;case 18:a.setState({typeOfPermits:t.data,loading:!1});case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),q.a.error(e.t0.message),a.setState({loading:!1});case 25:case"end":return e.stop()}},e,this,[[0,21]])})),a.mustPay=function(e){if(e){var t=a.state.user;t.quotes=!0,a.setState({user:t})}},a.handleReset=function(){a.props.form.resetFields()},a.handleSubmit=function(e){var t=a.props.intl.messages,n=a.state,r=n.mode,o=n.user;e.preventDefault(),a.props.form.validateFields(function(e,n){if(!e||"edit"===r&&e.confirm&&e.password){var c={id:o.id||null,fullName:n.fullName,email:n.email,password:n.password,rol:n.rol,typeOfPermits:n.typeOfPermits,typeOfUser:n.typeOfUser};a.setState({sendLoading:!0}),"add"===r?Object(M.b)(c).then(function(e){q.a.success("Action successfully."),a.setState({sendLoading:!1}),a.handleReset(),a.getUsers(),a.hideModal()}).catch(function(e){400===e.response.status?q.a.error(t.signup.error.email):q.a.error(t.signup.error.all),a.setState({sendLoading:!1})}):Object(M.x)(c).then(function(e){q.a.success("Action successfully."),a.setState({sendLoading:!1}),a.handleReset(),a.getUsers(),a.hideModal()}).catch(function(e){400===e.response.status?q.a.error(t.signup.error.email):q.a.error(t.signup.error.all),a.setState({sendLoading:!1})})}})},a.confirm=function(){var e=Object(ke.a)(je.a.mark(function e(t){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(M.q)({id:t});case 3:a.getUsers(),q.a.success("Action successfully."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),q.a.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.userLogin,a=this.state,n=a.user,r=a.typeOfPermits,o=a.defaultTypeOfPermits,i=a.users,l=a.loading,s=a.visible,u=a.visibleEdit,d=a.sendLoading,m=a.mode,p=this.props.form,f=p.getFieldDecorator,g=(p.getFieldsError,[{title:"Full Name",dataIndex:"fullName",key:"fullName"},{title:"Email",dataIndex:"email",key:"email"},{title:"Rol",dataIndex:"rol",key:"rol"},{title:"Action",key:"action",render:function(t,a){return c.a.createElement("span",null,c.a.createElement(ga,{onClick:function(){e.showModal("edit",a)},size:"small",type:"primary",shape:"circle",icon:"edit"}),c.a.createElement(Bt.a,{onConfirm:function(){e.confirm(a.id)},title:"Are you sure delete this User?",okText:"Yes",cancelText:"No"},c.a.createElement(ga,{size:"small",type:"danger",shape:"circle",icon:"delete"})))}}]),h=c.a.createElement(_.a,{onClick:function(){e.showModal("add")},type:"primary",icon:"user-add"},"Add User"),E={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},b={display:"block",height:"30px",lineHeight:"30px"},y=c.a.createElement("div",null,c.a.createElement(ma,{label:"Password",hasFeedback:!0},f("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(c.a.createElement(N.a,{disabled:"see"===m,type:"password"}))),c.a.createElement(ma,{label:"Confirm your password",hasFeedback:!0},f("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(c.a.createElement(N.a,{type:"password",onBlur:this.handleConfirmBlur}))));return c.a.createElement("div",null,c.a.createElement(Qe.a,{style:{margin:"16px 0"}},c.a.createElement(Qe.a.Item,null,"Users")),c.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},c.a.createElement(ot.a,{defaultActiveKey:"all",tabBarExtraContent:h},c.a.createElement(da,{tab:"All Users",key:"all"},c.a.createElement(at.a,{size:"small",loading:l,dataSource:i,columns:g}))),c.a.createElement(tt.a,{centered:!0,width:600,title:"User create",visible:s,onOk:this.hideModal,onCancel:this.hideModal,footer:[c.a.createElement(_.a,{key:"back",onClick:this.hideModal},"Cancel"),c.a.createElement(_.a,{key:"submit",type:"primary",loading:d,onClick:this.handleSubmit},"Create")]},c.a.createElement(V.a,Object.assign({},E,{onSubmit:this.handleSubmit}),c.a.createElement(ze.a,{justify:"center",type:"flex"},c.a.createElement(Ke.a,{xs:24},c.a.createElement(ma,{label:"FullName",hasFeedback:!0},f("fullName",{initialValue:n.fullName,rules:[{required:!0,message:"Please, fullName is required!"}]})(c.a.createElement(N.a,{disabled:"see"===m,type:"text"}))),c.a.createElement(ma,{label:"E-mail",hasFeedback:!0},f("email",{initialValue:n.email,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(c.a.createElement(N.a,{disabled:"add"!==m}))),c.a.createElement(ma,{label:"Rol",hasFeedback:!0},f("rol",{initialValue:n.rol,rules:[{required:!0,message:"Please, fullName is required!"}]})(c.a.createElement(ct.a,{disabled:"client"===t.rol,defaultValue:n.rol},c.a.createElement(pa,{value:"user"},"User"),c.a.createElement(pa,{value:"client"},"Client"),c.a.createElement(pa,{value:"admin"},"Admin")))),c.a.createElement(ma,{label:"Type of permits",hasFeedback:!0},f("typeOfPermits",{initialValue:o,rules:[{required:!0,message:"Please, fullName is required!"}]})(c.a.createElement(ct.a,{disabled:"client"===t.rol,defaultValue:o},r.map(function(e){return c.a.createElement(pa,{value:e.id},e.name)})))),c.a.createElement(ma,{label:"Type of user"},f("typeOfUser",{initialValue:n.typeOfUser,rules:[{required:!0,message:"Please, fullName is required!"}]})(c.a.createElement(fa,{disabled:"client"===t.rol,onChange:this.onChange,value:this.state.value},c.a.createElement(Mt.a,{style:b,value:1},"No quotes and no payment."),c.a.createElement(Mt.a,{style:b,value:2},"With quotes and without payment."),c.a.createElement(Mt.a,{style:b,value:3},"With quotes and with payment.")))),y)))),c.a.createElement(tt.a,{centered:!0,width:600,title:"User edit",visible:u,onOk:this.hideModal,onCancel:this.hideModal,footer:[c.a.createElement(_.a,{key:"back",onClick:this.hideModal},"Cancel"),c.a.createElement(_.a,{key:"submit",type:"primary",loading:d,onClick:this.handleSubmit},"Save")]},c.a.createElement(V.a,Object.assign({},E,{onSubmit:this.handleSubmit}),c.a.createElement(ze.a,{justify:"center",type:"flex"},c.a.createElement(Ke.a,{xs:24},c.a.createElement(ma,{label:"FullName",hasFeedback:!0},f("fullName",{initialValue:n.fullName,rules:[{required:!0,message:"Please, fullName is required!"}]})(c.a.createElement(N.a,{disabled:"see"===m,type:"text"}))),c.a.createElement(ma,{label:"E-mail",hasFeedback:!0},f("email",{initialValue:n.email,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(c.a.createElement(N.a,{disabled:"add"!==m}))),c.a.createElement(ma,{label:"Rol",hasFeedback:!0},f("rol",{initialValue:n.rol,rules:[{required:!0,message:"Please, fullName is required!"}]})(c.a.createElement(ct.a,{disabled:"client"===t.rol,defaultValue:n.rol},c.a.createElement(pa,{value:"user"},"User"),c.a.createElement(pa,{value:"client"},"Client"),c.a.createElement(pa,{value:"admin"},"Admin")))),c.a.createElement(ma,{label:"Type of Permits",hasFeedback:!0},f("typeOfPermits",{initialValue:o,rules:[{required:!0,message:"Please, fullName is required!"}]})(c.a.createElement(ct.a,{disabled:"client"===t.rol,defaultValue:o},r.map(function(e){return c.a.createElement(pa,{value:e.id},e.name)})))),c.a.createElement(ma,{label:"Type of user"},f("typeOfUser",{initialValue:n.typeOfUser,rules:[{required:!0,message:"Please, fullName is required!"}]})(c.a.createElement(fa,{disabled:"client"===t.rol,onChange:this.onChange,value:this.state.value},c.a.createElement(Mt.a,{style:b,value:1},"No quotes and no payment."),c.a.createElement(Mt.a,{style:b,value:2},"With quotes and without payment."),c.a.createElement(Mt.a,{style:b,value:3},"With quotes and with payment."))))))))))}}]),t}(o.Component),Ea=V.a.create()(Object(h.b)(ha)),ba=Object(U.a)(Ea),ya=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).renderAdmin=function(e){return c.a.createElement(ve.a,{theme:"dark",defaultSelectedKeys:[a.props.pathname],mode:"inline"},c.a.createElement(ve.a.Item,{key:"/dashboard"},c.a.createElement(L.a,{to:"/dashboard"},c.a.createElement(F.a,{type:"dashboard"}),c.a.createElement("span",null," Dashboard "))),c.a.createElement(ve.a.Item,{key:"/dashboard/users"},c.a.createElement(L.a,{to:"/dashboard/users"},c.a.createElement(F.a,{type:"user"}),c.a.createElement("span",null," Users "))),c.a.createElement(ve.a.Item,{key:"/dashboard/profile"},c.a.createElement(L.a,{to:"/dashboard/profile"},c.a.createElement(F.a,{type:"profile"}),c.a.createElement("span",null," Profile "))),c.a.createElement(ve.a.Item,{key:"/dashboard/configuration"},c.a.createElement(L.a,{to:"/dashboard/configuration"},c.a.createElement(F.a,{type:"setting"}),c.a.createElement("span",null," Configurations "))))},a.renderClient=function(e){return c.a.createElement(ve.a,{theme:"dark",defaultSelectedKeys:[a.props.pathname],mode:"inline"},c.a.createElement(ve.a.Item,{key:"/dashboard"},c.a.createElement(L.a,{to:"/dashboard"},c.a.createElement(F.a,{type:"dashboard"}),c.a.createElement("span",null," Dashboard "))),c.a.createElement(ve.a.Item,{key:"/dashboard/users"},c.a.createElement(L.a,{to:"/dashboard/users"},c.a.createElement(F.a,{type:"user"}),c.a.createElement("span",null," Users "))),c.a.createElement(ve.a.Item,{key:"/dashboard/profile"},c.a.createElement(L.a,{to:"/dashboard/profile"},c.a.createElement(F.a,{type:"profile"}),c.a.createElement("span",null," Profile "))))},a.renderUser=function(e){return c.a.createElement(ve.a,{theme:"dark",defaultSelectedKeys:[a.props.pathname],mode:"inline"},c.a.createElement(ve.a.Item,{key:"/dashboard"},c.a.createElement(L.a,{to:"/dashboard"},c.a.createElement(F.a,{type:"dashboard"}),c.a.createElement("span",null," Dashboard "))),c.a.createElement(ve.a.Item,{key:"/dashboard/process-services"},c.a.createElement(L.a,{to:"/dashboard/process-services"},c.a.createElement(F.a,{type:"desktop"}),c.a.createElement("span",null," Services / Processes "))),c.a.createElement(ve.a.Item,{key:"/dashboard/profile"},c.a.createElement(L.a,{to:"/dashboard/profile"},c.a.createElement(F.a,{type:"profile"}),c.a.createElement("span",null," Profile "))))},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rol,a=e.pathname;return"user"===t?this.renderUser(a):"client"===t?this.renderClient(a):"admin"===t?this.renderAdmin(a):null}}]),t}(o.Component);function va(){var e=Object(w.a)(["\n  min-height: 100vh !important;\n"]);return va=function(){return e},e}function Oa(){var e=Object(w.a)(["\n  cursor: pointer;\n  float: right;\n  margin-right: 15px !important;\n  margin-top: 15px !important;\n  right: 50px;\n"]);return Oa=function(){return e},e}function ja(){var e=Object(w.a)(["\n  cursor: pointer;\n  float: right;\n  margin-right: 15px !important;\n  margin-top: 15px !important;\n  right: 40px;\n"]);return ja=function(){return e},e}function xa(){var e=Object(w.a)(["\n  height: 32px;\n  background: #ffffff;\n  margin: 16px;\n  img {\n    height: 60px;\n    margin-right: 16px;\n  }\n"]);return xa=function(){return e},e}var ka=S.a.Header,Sa=S.a.Content,wa=S.a.Footer,Pa=S.a.Sider,Ia=I.a.div(xa()),Ta=Object(I.a)(we.a)(ja()),Ca=Object(I.a)(Se.a)(Oa()),Aa=Object(I.a)(S.a)(va()),_a=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,loading:!1,count:0},a.componentWillMount=function(){a.getEngines(),a._getUser(),Ue()(Me.a._API_SERVER).on("notification_dashboard",function(e){a.runNotification(e)})},a.runNotification=function(){var e=Object(ke.a)(je.a.mark(function e(t){var n,r,o,c;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.authState,o=n.notificationAct.changeNotifications,t.data.userId!==r.user.id){e.next=14;break}return e.prev=2,e.next=5,Object(M.j)();case 5:c=e.sent,o(c.data.user.Notifications),a.setState({count:a.state.count+1}),xe.a.info({message:Te.a.getStatusByText(t.type),description:"You are notified that you have a process with quotes ready."}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),a._getUser=Object(ke.a)(je.a.mark(function e(){var t,n,r,o,c;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(D.a)(Object(D.a)(a)),t=a.props,n=t.history,r=t.authAct.fetchUser,o=t.notificationAct.changeNotifications,a.setState({loading:!0}),e.prev=3,e.next=6,Object(M.j)();case 6:c=e.sent,r(c.data.user),o(c.data.user.Notifications),a.setState({loading:!1}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),z.a.clearAppStorage(),n.push("/"),a.setState({loading:!1});case 17:case"end":return e.stop()}},e,this,[[3,12]])})),a.getEngines=function(){var e=a.props.processAct,t=e.getEngines,n=e.fetchRequest,r=e.fetchResponse;n(),Object(M.e)().then(function(e){var a=e.data;t(a),r()}).catch(function(e){console.log(e),r()})},a.onCollapse=function(e){console.log(e),a.setState({collapsed:e})},a.logout=function(){var e=a.props.history;z.a.clearAppStorage(),e.push("/")},a._selectProcess=function(e){(0,a.props.processAct.selectProcess)(e)},a._changeFileID=function(e){(0,a.props.processAct.changeFileID)(e)},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props,a=t.location.pathname,n=t.process,r=t.authState,o=t.notificationState.notifications,i=o.length,l=this.state.count,s=c.a.createElement(ve.a,null,c.a.createElement(ve.a.Item,{key:"2"},c.a.createElement(L.a,{to:"/dashboard/profile"},c.a.createElement(F.a,{type:"profile"})," Profile"," ")),c.a.createElement(ve.a.Item,{key:"3",onClick:this.logout},c.a.createElement(F.a,{type:"logout"})," Logout")),u=o.map(function(e,t){var a=Te.a.getStatusByText(e.type);return c.a.createElement(ve.a.Item,{key:"noty".concat(t)},c.a.createElement(F.a,{type:"desktop"})," ",e.data.fileName," ",c.a.createElement(ye.a,{color:"#2db7f5"},a))}),m=[],p=0,f=u.length-1;f>=0&&(m.push(u[f]),5!==++p);f--);m.push(c.a.createElement(ve.a.Item,{key:"more",style:{textAlign:"right",textDecoration:"underline",color:"#008dff",marginRight:10}},"See more..."));var g=c.a.createElement(ve.a,null,m);return c.a.createElement(Aa,null,c.a.createElement(Pa,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},c.a.createElement(Ia,null," "),c.a.createElement(ya,{pathname:a,rol:r.user.rol})),c.a.createElement(S.a,null,c.a.createElement(ka,{style:{background:"#fff",padding:0}},c.a.createElement(be.a,{overlay:s,placement:"bottomRight"},c.a.createElement(Ta,{icon:"user"}))," ",c.a.createElement(be.a,{overlay:g,placement:"bottomRight"},c.a.createElement(Ca,{count:i},c.a.createElement(_.a,{shape:"circle",icon:"notification"})))," ")," ",c.a.createElement(Sa,{style:{margin:"0 16px"}},c.a.createElement(Pe.a,null,c.a.createElement(d.a,{exact:!0,path:"/dashboard",render:function(){return c.a.createElement(Xe,{user:r.user})}}),c.a.createElement(d.a,{exact:!0,path:"/dashboard/users",render:function(){return c.a.createElement(ba,{userLogin:r.user})}}),c.a.createElement(d.a,{exact:!0,path:"/dashboard/process-services",render:function(){return c.a.createElement(Lt,{typeOfUser:r.user.typeOfUser,count:l,changeFileID:e._changeFileID,process:n,selectProcess:e._selectProcess})}}),c.a.createElement(d.a,{exact:!0,path:"/dashboard/profile",component:Ut})," ",c.a.createElement(d.a,{exact:!0,path:"/dashboard/configuration",render:function(){return c.a.createElement(sa,{user:r.user})}}),c.a.createElement(Ie.a,{to:{state:{error:!0}}})," ")," ")," ",c.a.createElement(wa,{style:{textAlign:"center"}},"PangeaMT\xa9 2019. All rights reserved."," ")))}}]),t}(o.Component);var Ra=Object(s.c)(function(e){return{process:e.rootReducer.process,authState:e.rootReducer.auth,notificationState:e.rootReducer.notification,location:e.router.location}},function(e){return{processAct:Object(P.a)(Ce,e),notificationAct:Object(P.a)(n,e),authAct:Object(P.a)(T,e)}})(Object(U.a)(_a)),Na=a(380),Fa=function(e){var t=e.component,a=Object(Na.a)(e,["component"]);return c.a.createElement(d.a,Object.assign({},a,{render:function(e){return null!==z.a.getToken()?c.a.createElement(t,e):c.a.createElement(Ie.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},qa=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,process:{fileName:null}},a.download=function(e){var t=a.state.process,n=t.fileDownload.file,r=t.fileDownload.fileType,o=t.fileDownload.filename;window.FileDownload(n,r,o).then(function(){return console.log("download successful.")}).catch(function(e){return console.error("download error: ",e)}),window.location="/"},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.uuid;this.setState({loading:!0}),Object(M.i)(t).then(function(t){console.log(t),e.setState({process:t.data,loading:!1})}).catch(function(t){e.setState({loading:!1})})}},{key:"render",value:function(){var e=this;return c.a.createElement(ze.a,{type:"flex",justify:"space-around",align:"middle"},c.a.createElement(Ke.a,{xs:24,md:10},c.a.createElement(zt.a,{spinning:this.state.loading,tip:"Loading..."},c.a.createElement(k.a,{style:{margin:100},title:"Download File"},c.a.createElement(ze.a,null,c.a.createElement(Ke.a,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},this.state.process.fileName?this.state.process.fileName:""))),c.a.createElement(ze.a,null,c.a.createElement(Ke.a,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},c.a.createElement(_.a,{onClick:function(){e.download()},type:"primary",shape:"round",icon:"download",size:"large"},"Download"))))))))}}]),t}(o.Component),Da=Object(P.b)({process:Ce.default,auth:T.default,notification:Ve});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Va=a(376);a(784);a.d(t,"history",function(){return Ua});var La={en:Va},Ua=Object(m.a)(),Ma=function(e,t){var a=P.c;return Object(P.d)(Object(P.b)({router:Object(p.b)(t),rootReducer:Da,initialState:e}),a())}({},Ua);l.a.render(c.a.createElement(s.a,{store:Ma},c.a.createElement(p.a,{history:Ua},c.a.createElement(h.a,{locale:"en",messages:La.en},c.a.createElement(r.a,{locale:g.a},c.a.createElement(u.a,null,c.a.createElement("div",null,c.a.createElement(d.a,{exact:!0,path:"/",component:b}),c.a.createElement(d.a,{exact:!0,path:"/signin",component:ne}),c.a.createElement(d.a,{exact:!0,path:"/signup",component:Ee}),c.a.createElement(d.a,{exact:!0,path:"/signup",component:Ee}),c.a.createElement(d.a,{path:"/download/:uuid",component:qa}),c.a.createElement(Fa,{path:"/dashboard",component:Ra}))))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[387,3,2]]]);
//# sourceMappingURL=main.96490e73.chunk.js.map